import{k as v}from"./typing-B_xc7lBt.js";import{F as g}from"./module-CEpankYo.js";import{_ as C}from"./exports-Db5CWii1.js";import{_ as b,n as j,I as E,p as i,o,s as l,i as m,a as S,g as u,W as B,t as f,F as h,j as d,e as y,q as k}from"./_plugin-vue_export-helper-IoQslFd3.js";import"./Validators-DkQimdV0.js";import"./index-DN3rM4CW.js";import"./index-DJvhFcF9.js";import"./_commonjsHelpers-BosuxZz1.js";import"./vue-dompurify-html-CEAHYyWB.js";import"./utils.esm-dig4nDxm.js";import"./Icon-Dg_4WYMY.js";import"./globals-DPjCpsAT.js";const I="Search",w={components:{FluentIcon:g,NextButton:C},props:{onClick:{type:Function,default:()=>{}},showRemoveButton:{type:Boolean,default:!1}},data(){return{selectedKey:"Search",emojis:v,search:""}},computed:{categories(){return[...this.emojis]},filterEmojisByCategory(){const t=this.emojis.find(s=>s.name===this.selectedKey?s.name:null);return t==null?void 0:t.emojis},filterAllEmojisBySearch(){return this.emojis.map(t=>{const s=t.emojis.filter(n=>n.slug.replaceAll("_"," ").includes(this.search.toLowerCase()));return s.length>0?{...t,emojis:s}:{...t,emojis:[]}})},hasNoSearch(){return this.selectedKey!==I&&this.search===""},hasEmptySearchResult(){return this.filterAllEmojisBySearch.every(t=>t.emojis.length===0)}},watch:{search(){this.selectedKey="Search"},selectedKey(){return this.selectedKey==="Search"?this.focusSearchInput():null}},mounted(){this.focusSearchInput()},methods:{changeCategory(t){this.search="",this.$refs.emojiItem.scrollTo({top:0}),this.selectedKey=t},getFirstEmojiByCategoryName(t){const s=this.emojis.find(n=>n.name===t?n:null);return s?s.emojis[0].emoji:""},focusSearchInput(){this.$nextTick(()=>{this.$refs.searchbar.focus()})}}},K={role:"dialog",class:"emoji-dialog bg-n-background shadow-lg rounded-md outline outline-1 outline-n-weak box-content h-[18.75rem] absolute right-0 -top-[95px] w-80 z-20"},N={class:"flex flex-col"},F={class:"flex gap-2 m-2 sticky top-2"},O=["placeholder"],R={key:0,ref:"emojiItem",class:"emoji-item"},z={class:"text-sm text-n-slate-12 font-medium leading-normal m-0 py-1 px-2 capitalize"},A={class:"emoji--row"},D=["onClick"],M={key:1,ref:"emojiItem",class:"emoji-item"},V={key:0,class:"text-sm text-n-slate-12 font-medium leading-normal m-0 py-1 px-2 capitalize"},L={key:1,class:"emoji--row"},T=["onClick"],J={key:0,class:"items-center flex flex-col h-[13.25rem] justify-center"},H={class:"text-n-slate-11 mb-2"},U={class:"text-n-slate-11 text-sm font-medium"},q={class:"emoji-dialog--footer relative w-full py-0 rounded-b-[0.34rem] px-1 bg-n-slate-3",role:"menu"},P={class:"flex relative left-[2px] rtl:left-[unset] rtl:right-[2px] list-none m-0 overflow-auto py-1 px-0"},W=["onClick"],Y=["onClick"];function $(t,s,n,G,c,r){const x=j("NextButton"),p=j("FluentIcon"),_=E("dompurify-html");return o(),i("div",K,[l("div",N,[l("div",F,[m(l("input",{ref:"searchbar","onUpdate:modelValue":s[0]||(s[0]=e=>c.search=e),type:"text",class:"focus:box-shadow-blue dark:focus:box-shadow-dark !mb-0 !h-8 !text-sm",placeholder:t.$t("EMOJI.PLACEHOLDER")},null,8,O),[[B,c.search]]),n.showRemoveButton?(o(),S(x,{key:0,faded:"",sm:"",slate:"",class:"flex-shrink-0",label:t.$t("EMOJI.REMOVE"),onClick:s[1]||(s[1]=e=>n.onClick(""))},null,8,["label"])):u("",!0)]),r.hasNoSearch?(o(),i("div",R,[l("h5",z,f(c.selectedKey),1),l("div",A,[(o(!0),i(h,null,d(r.filterEmojisByCategory,e=>m((o(),i("button",{key:e.slug,class:"emoji--item","track-by":"$index",onClick:a=>n.onClick(e.emoji)},null,8,D)),[[_,e.emoji]])),128))])],512)):(o(),i("div",M,[(o(!0),i(h,null,d(r.filterAllEmojisBySearch,e=>(o(),i("div",{key:e.slug},[e.emojis.length>0?(o(),i("h5",V,f(e.name),1)):u("",!0),e.emojis.length>0?(o(),i("div",L,[(o(!0),i(h,null,d(e.emojis,a=>m((o(),i("button",{key:a.slug,class:"emoji--item","track-by":"$index",onClick:Q=>n.onClick(a.emoji)},null,8,T)),[[_,a.emoji]])),128))])):u("",!0)]))),128)),r.hasEmptySearchResult?(o(),i("div",J,[l("div",H,[y(p,{icon:"emoji",size:"48"})]),l("span",U,f(t.$t("EMOJI.NOT_FOUND")),1)])):u("",!0)],512)),l("div",q,[l("ul",P,[l("li",null,[l("button",{class:k(["emoji--item",{active:c.selectedKey==="Search"}]),onClick:s[2]||(s[2]=e=>r.changeCategory("Search"))},[y(p,{icon:"search",size:"16",class:"text-n-slate-11"})],2)]),(o(!0),i(h,null,d(r.categories,e=>(o(),i("li",{key:e.slug,onClick:a=>r.changeCategory(e.name)},[m(l("button",{class:k(["emoji--item",{active:c.selectedKey===e.name}]),onClick:a=>r.changeCategory(e.name)},null,10,Y),[[_,r.getFirstEmojiByCategoryName(e.name)]])],8,W))),128))])])])])}const me=b(w,[["render",$],["__scopeId","data-v-7341681a"]]);export{me as default};
//# sourceMappingURL=EmojiInput-CHOuDIMs.js.map
