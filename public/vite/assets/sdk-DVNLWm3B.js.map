{"version":3,"file":"sdk-DVNLWm3B.js","sources":["../../../app/javascript/sdk/sdk.js","../../../app/javascript/sdk/DOMHelpers.js","../../../app/javascript/sdk/constants.js","../../../app/javascript/sdk/settingsHelper.js","../../../app/javascript/shared/helpers/CustomEventHelper.js","../../../app/javascript/sdk/bubbleHelpers.js","../../../node_modules/.pnpm/crypt@0.0.2/node_modules/crypt/crypt.js","../../../node_modules/.pnpm/charenc@0.0.2/node_modules/charenc/charenc.js","../../../node_modules/.pnpm/is-buffer@1.1.6/node_modules/is-buffer/index.js","../../../node_modules/.pnpm/md5@2.3.0/node_modules/md5/md5.js","../../../app/javascript/sdk/cookieHelpers.js","../../../app/javascript/shared/helpers/AudioNotificationHelper.js","../../../app/javascript/sdk/IFrameHelper.js","../../../app/javascript/entrypoints/sdk.js"],"sourcesContent":["export const SDK_CSS = `\n:root {\n  --b-100: #F2F3F7;\n  --s-700: #37546D;\n}\n\n.woot-widget-holder {\n  box-shadow: 0 5px 40px rgba(0, 0, 0, .16);\n  opacity: 1;\n  will-change: transform, opacity;\n  transform: translateY(0);\n  overflow: hidden !important;\n  position: fixed !important;\n  transition: opacity 0.2s linear, transform 0.25s linear;\n  z-index: 2147483000 !important;\n}\n\n.woot-widget-holder.woot-widget-holder--flat {\n  box-shadow: none;\n  border-radius: 0;\n  border: 1px solid var(--b-100);\n}\n\n.woot-widget-holder iframe {\n  border: 0;\n  color-scheme: normal;\n  height: 100% !important;\n  width: 100% !important;\n  max-height: 100vh !important;\n}\n\n.woot-widget-holder.has-unread-view {\n  border-radius: 0 !important;\n  min-height: 80px !important;\n  height: auto;\n  bottom: 94px;\n  box-shadow: none !important;\n  border: 0;\n}\n\n.woot-widget-bubble {\n  background: #1f93ff;\n  border-radius: 100px;\n  border-width: 0px;\n  bottom: 20px;\n  box-shadow: 0 8px 24px rgba(0, 0, 0, .16) !important;\n  cursor: pointer;\n  height: 64px;\n  padding: 0px;\n  position: fixed;\n  user-select: none;\n  width: 64px;\n  z-index: 2147483000 !important;\n  overflow: hidden;\n}\n\n.woot-widget-bubble.woot-widget-bubble--flat {\n  border-radius: 0;\n}\n\n.woot-widget-holder.woot-widget-holder--flat {\n  bottom: 90px;\n}\n\n.woot-widget-bubble.woot-widget-bubble--flat {\n  height: 56px;\n  width: 56px;\n}\n\n.woot-widget-bubble.woot-widget-bubble--flat svg {\n  margin: 16px;\n}\n\n.woot-widget-bubble.woot-widget-bubble--flat.woot--close::before,\n.woot-widget-bubble.woot-widget-bubble--flat.woot--close::after {\n  left: 28px;\n  top: 16px;\n}\n\n.woot-widget-bubble.unread-notification::after {\n  content: '';\n  position: absolute;\n  width: 12px;\n  height: 12px;\n  background: #ff4040;\n  border-radius: 100%;\n  top: 0px;\n  right: 0px;\n  border: 2px solid #ffffff;\n  transition: background 0.2s ease;\n}\n\n.woot-widget-bubble.woot-widget--expanded {\n  bottom: 24px;\n  display: flex;\n  height: 48px !important;\n  width: auto !important;\n  align-items: center;\n}\n\n.woot-widget-bubble.woot-widget--expanded div {\n  align-items: center;\n  color: #fff;\n  display: flex;\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen-Sans, Ubuntu, Cantarell, Helvetica Neue, Arial, sans-serif;\n  font-size: 16px;\n  font-weight: 500;\n  justify-content: center;\n  padding-right: 20px;\n  width: auto !important;\n}\n\n.woot-widget-bubble.woot-widget--expanded.woot-widget-bubble-color--lighter div{\n  color: var(--s-700);\n}\n\n.woot-widget-bubble.woot-widget--expanded svg {\n  height: 20px;\n  margin: 14px 8px 14px 16px;\n  width: 20px;\n}\n\n.woot-widget-bubble.woot-elements--left {\n  left: 20px;\n}\n\n.woot-widget-bubble.woot-elements--right {\n  right: 20px;\n}\n\n.woot-widget-bubble:hover {\n  background: #1f93ff;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, .4) !important;\n}\n\n.woot-widget-bubble svg {\n  all: revert;\n  height: 24px;\n  margin: 20px;\n  width: 24px;\n}\n\n.woot-widget-bubble.woot-widget-bubble-color--lighter path{\n  fill: var(--s-700);\n}\n\n@media only screen and (min-width: 667px) {\n  .woot-widget-holder.woot-elements--left {\n    left: 20px;\n }\n  .woot-widget-holder.woot-elements--right {\n    right: 20px;\n }\n}\n\n.woot--close:hover {\n  opacity: 1;\n}\n\n.woot--close::before, .woot--close::after {\n  background-color: #fff;\n  content: ' ';\n  display: inline;\n  height: 24px;\n  left: 32px;\n  position: absolute;\n  top: 20px;\n  width: 2px;\n}\n\n.woot-widget-bubble-color--lighter.woot--close::before, .woot-widget-bubble-color--lighter.woot--close::after {\n  background-color: var(--s-700);\n}\n\n.woot--close::before {\n  transform: rotate(45deg);\n}\n\n.woot--close::after {\n  transform: rotate(-45deg);\n}\n\n.woot--hide {\n  bottom: -100vh !important;\n  top: unset !important;\n  opacity: 0;\n  visibility: hidden !important;\n  z-index: -1 !important;\n}\n\n.woot-widget--without-bubble {\n  bottom: 20px !important;\n}\n.woot-widget-holder.woot--hide{\n  transform: translateY(40px);\n}\n.woot-widget-bubble.woot--close {\n  transform: translateX(0px) scale(1) rotate(0deg);\n  transition: transform 300ms ease, opacity 100ms ease, visibility 0ms linear 0ms, bottom 0ms linear 0ms;\n}\n.woot-widget-bubble.woot--close.woot--hide {\n  transform: translateX(8px) scale(.75) rotate(45deg);\n  transition: transform 300ms ease, opacity 200ms ease, visibility 0ms linear 500ms, bottom 0ms ease 200ms;\n}\n\n.woot-widget-bubble {\n  transform-origin: center;\n  will-change: transform, opacity;\n  transform: translateX(0) scale(1) rotate(0deg);\n  transition: transform 300ms ease, opacity 100ms ease, visibility 0ms linear 0ms, bottom 0ms linear 0ms;\n}\n.woot-widget-bubble.woot--hide {\n  transform: translateX(8px) scale(.75) rotate(-30deg);\n  transition: transform 300ms ease, opacity 200ms ease, visibility 0ms linear 500ms, bottom 0ms ease 200ms;\n}\n\n.woot-widget-bubble.woot-widget--expanded {\n  transform: translateX(0px);\n  transition: transform 300ms ease, opacity 100ms ease, visibility 0ms linear 0ms, bottom 0ms linear 0ms;\n}\n.woot-widget-bubble.woot-widget--expanded.woot--hide {\n  transform: translateX(8px);\n  transition: transform 300ms ease, opacity 200ms ease, visibility 0ms linear 500ms, bottom 0ms ease 200ms;\n}\n.woot-widget-bubble.woot-widget-bubble--flat.woot--close {\n  transform: translateX(0px);\n  transition: transform 300ms ease, opacity 10ms ease, visibility 0ms linear 0ms, bottom 0ms linear 0ms;\n}\n.woot-widget-bubble.woot-widget-bubble--flat.woot--close.woot--hide {\n  transform: translateX(8px);\n  transition: transform 300ms ease, opacity 200ms ease, visibility 0ms linear 500ms, bottom 0ms ease 200ms;\n}\n.woot-widget-bubble.woot-widget--expanded.woot-widget-bubble--flat {\n  transform: translateX(0px);\n  transition: transform 300ms ease, opacity 200ms ease, visibility 0ms linear 0ms, bottom 0ms linear 0ms;\n}\n.woot-widget-bubble.woot-widget--expanded.woot-widget-bubble--flat.woot--hide {\n  transform: translateX(8px);\n  transition: transform 300ms ease, opacity 200ms ease, visibility 0ms linear 500ms, bottom 0ms ease 200ms;\n}\n\n@media only screen and (max-width: 667px) {\n  .woot-widget-holder {\n    height: 100%;\n    right: 0;\n    top: 0;\n    width: 100%;\n }\n\n .woot-widget-holder iframe {\n    min-height: 100% !important;\n  }\n\n\n .woot-widget-holder.has-unread-view {\n    height: auto;\n    right: 0;\n    width: auto;\n    bottom: 0;\n    top: auto;\n    max-height: 100vh;\n    padding: 0 8px;\n  }\n\n  .woot-widget-holder.has-unread-view iframe {\n    min-height: unset !important;\n  }\n\n .woot-widget-holder.has-unread-view.woot-elements--left {\n    left: 0;\n  }\n\n  .woot-widget-bubble.woot--close {\n    bottom: 60px;\n    opacity: 0;\n    visibility: hidden !important;\n    z-index: -1 !important;\n  }\n}\n\n@media only screen and (min-width: 667px) {\n  .woot-widget-holder {\n    border-radius: 16px;\n    bottom: 104px;\n    height: calc(90% - 64px - 20px);\n    max-height: 640px !important;\n    min-height: 250px !important;\n    width: 400px !important;\n }\n}\n\n.woot-hidden {\n  display: none !important;\n}\n`;\n","import { SDK_CSS } from './sdk.js';\nimport { IFrameHelper } from './IFrameHelper';\n\nexport const loadCSS = () => {\n  const css = document.createElement('style');\n  css.innerHTML = `${SDK_CSS}`;\n  css.id = 'cw-widget-styles';\n  css.dataset.turboPermanent = true;\n  document.body.appendChild(css);\n};\n\n// This is a method specific to Turbo\n// The body replacing strategy removes Chatwoot styles\n// as well as the widget, this help us get it back\nexport const restoreElement = (id, newBody) => {\n  const element = document.getElementById(id);\n  const newElement = newBody.querySelector(`#${id}`);\n\n  if (element && !newElement) {\n    newBody.appendChild(element);\n  }\n};\n\nexport const restoreWidgetInDOM = newBody => {\n  restoreElement('cw-bubble-holder', newBody);\n  restoreElement('cw-widget-holder', newBody);\n  restoreElement('cw-widget-styles', newBody);\n};\n\nexport const addClasses = (elm, classes) => {\n  elm.classList.add(...classes.split(' '));\n};\n\nexport const toggleClass = (elm, classes) => {\n  elm.classList.toggle(classes);\n};\n\nexport const removeClasses = (elm, classes) => {\n  elm.classList.remove(...classes.split(' '));\n};\n\nexport const onLocationChange = ({ referrerURL, referrerHost }) => {\n  IFrameHelper.events.onLocationChange({\n    referrerURL,\n    referrerHost,\n  });\n};\n\nexport const onLocationChangeListener = () => {\n  let oldHref = document.location.href;\n  const referrerHost = document.location.host;\n  const config = {\n    childList: true,\n    subtree: true,\n  };\n  onLocationChange({\n    referrerURL: oldHref,\n    referrerHost,\n  });\n\n  const bodyList = document.querySelector('body');\n  const observer = new MutationObserver(mutations => {\n    mutations.forEach(() => {\n      if (oldHref !== document.location.href) {\n        oldHref = document.location.href;\n        onLocationChange({\n          referrerURL: oldHref,\n          referrerHost,\n        });\n      }\n    });\n  });\n\n  observer.observe(bodyList, config);\n};\n","export const BUBBLE_DESIGN = ['standard', 'expanded_bubble'];\nexport const WIDGET_DESIGN = ['standard', 'flat'];\nexport const DARK_MODE = ['light', 'auto', 'dark'];\n","import { BUBBLE_DESIGN, DARK_MODE, WIDGET_DESIGN } from './constants';\n\nexport const getBubbleView = type =>\n  BUBBLE_DESIGN.includes(type) ? type : BUBBLE_DESIGN[0];\n\nexport const isExpandedView = type => getBubbleView(type) === BUBBLE_DESIGN[1];\n\nexport const getWidgetStyle = style =>\n  WIDGET_DESIGN.includes(style) ? style : WIDGET_DESIGN[0];\n\nexport const isFlatWidgetStyle = style => style === 'flat';\n\nexport const getDarkMode = darkMode =>\n  DARK_MODE.includes(darkMode) ? darkMode : DARK_MODE[0];\n","export const createEvent = ({ eventName, data = null }) => {\n  let event;\n  if (typeof window.CustomEvent === 'function') {\n    event = new CustomEvent(eventName, { detail: data });\n  } else {\n    event = document.createEvent('CustomEvent');\n    event.initCustomEvent(eventName, false, false, data);\n  }\n  return event;\n};\n\nexport const dispatchWindowEvent = ({ eventName, data }) => {\n  const event = createEvent({ eventName, data });\n  window.dispatchEvent(event);\n};\n","import { addClasses, removeClasses, toggleClass } from './DOMHelpers';\nimport { IFrameHelper } from './IFrameHelper';\nimport { isExpandedView } from './settingsHelper';\nimport {\n  CHATWOOT_CLOSED,\n  CHATWOOT_OPENED,\n} from '../widget/constants/sdkEvents';\nimport { dispatchWindowEvent } from 'shared/helpers/CustomEventHelper';\n\nexport const bubbleSVG =\n  'M240.808 240.808H122.123C56.6994 240.808 3.45695 187.562 3.45695 122.122C3.45695 56.7031 56.6994 3.45697 122.124 3.45697C187.566 3.45697 240.808 56.7031 240.808 122.122V240.808Z';\n\nexport const body = document.getElementsByTagName('body')[0];\nexport const widgetHolder = document.createElement('div');\n\nexport const bubbleHolder = document.createElement('div');\nexport const chatBubble = document.createElement('button');\nexport const closeBubble = document.createElement('button');\nexport const notificationBubble = document.createElement('span');\n\nexport const setBubbleText = bubbleText => {\n  if (isExpandedView(window.$chatwoot.type)) {\n    const textNode = document.getElementById('woot-widget--expanded__text');\n    textNode.innerText = bubbleText;\n  }\n};\n\nexport const createBubbleIcon = ({ className, path, target }) => {\n  let bubbleClassName = `${className} woot-elements--${window.$chatwoot.position}`;\n  const bubbleIcon = document.createElementNS(\n    'http://www.w3.org/2000/svg',\n    'svg'\n  );\n  bubbleIcon.setAttributeNS(null, 'id', 'woot-widget-bubble-icon');\n  bubbleIcon.setAttributeNS(null, 'width', '24');\n  bubbleIcon.setAttributeNS(null, 'height', '24');\n  bubbleIcon.setAttributeNS(null, 'viewBox', '0 0 240 240');\n  bubbleIcon.setAttributeNS(null, 'fill', 'none');\n  bubbleIcon.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n\n  const bubblePath = document.createElementNS(\n    'http://www.w3.org/2000/svg',\n    'path'\n  );\n  bubblePath.setAttributeNS(null, 'd', path);\n  bubblePath.setAttributeNS(null, 'fill', '#FFFFFF');\n\n  bubbleIcon.appendChild(bubblePath);\n  target.appendChild(bubbleIcon);\n\n  if (isExpandedView(window.$chatwoot.type)) {\n    const textNode = document.createElement('div');\n    textNode.id = 'woot-widget--expanded__text';\n    textNode.innerText = '';\n    target.appendChild(textNode);\n    bubbleClassName += ' woot-widget--expanded';\n  }\n\n  target.className = bubbleClassName;\n  target.title = 'Open chat window';\n  return target;\n};\n\nexport const createBubbleHolder = hideMessageBubble => {\n  if (hideMessageBubble) {\n    addClasses(bubbleHolder, 'woot-hidden');\n  }\n  addClasses(bubbleHolder, 'woot--bubble-holder');\n  bubbleHolder.id = 'cw-bubble-holder';\n  bubbleHolder.dataset.turboPermanent = true;\n  body.appendChild(bubbleHolder);\n};\n\nconst handleBubbleToggle = newIsOpen => {\n  IFrameHelper.events.onBubbleToggle(newIsOpen);\n\n  if (newIsOpen) {\n    dispatchWindowEvent({ eventName: CHATWOOT_OPENED });\n  } else {\n    dispatchWindowEvent({ eventName: CHATWOOT_CLOSED });\n    chatBubble.focus();\n  }\n};\n\nexport const onBubbleClick = (props = {}) => {\n  const { toggleValue } = props;\n  const { isOpen } = window.$chatwoot;\n  if (isOpen === toggleValue) return;\n\n  const newIsOpen = toggleValue === undefined ? !isOpen : toggleValue;\n  window.$chatwoot.isOpen = newIsOpen;\n\n  toggleClass(chatBubble, 'woot--hide');\n  toggleClass(closeBubble, 'woot--hide');\n  toggleClass(widgetHolder, 'woot--hide');\n\n  handleBubbleToggle(newIsOpen);\n};\n\nexport const onClickChatBubble = () => {\n  bubbleHolder.addEventListener('click', onBubbleClick);\n};\n\nexport const addUnreadClass = () => {\n  const holderEl = document.querySelector('.woot-widget-holder');\n  addClasses(holderEl, 'has-unread-view');\n};\n\nexport const removeUnreadClass = () => {\n  const holderEl = document.querySelector('.woot-widget-holder');\n  removeClasses(holderEl, 'has-unread-view');\n};\n","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message) && message.constructor !== Uint8Array)\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n","import md5 from 'md5';\nimport Cookies from 'js-cookie';\n\nconst REQUIRED_USER_KEYS = ['avatar_url', 'email', 'name'];\nconst ALLOWED_USER_ATTRIBUTES = [...REQUIRED_USER_KEYS, 'identifier_hash'];\n\nexport const getUserCookieName = () => {\n  const SET_USER_COOKIE_PREFIX = 'cw_user_';\n  const { websiteToken: websiteIdentifier } = window.$chatwoot;\n  return `${SET_USER_COOKIE_PREFIX}${websiteIdentifier}`;\n};\n\nexport const getUserString = ({ identifier = '', user }) => {\n  const userStringWithSortedKeys = ALLOWED_USER_ATTRIBUTES.reduce(\n    (acc, key) => `${acc}${key}${user[key] || ''}`,\n    ''\n  );\n  return `${userStringWithSortedKeys}identifier${identifier}`;\n};\n\nexport const computeHashForUserData = (...args) => md5(getUserString(...args));\n\nexport const hasUserKeys = user =>\n  REQUIRED_USER_KEYS.reduce((acc, key) => acc || !!user[key], false);\n\nexport const setCookieWithDomain = (\n  name,\n  value,\n  { expires = 365, baseDomain = undefined } = {}\n) => {\n  const cookieOptions = {\n    expires,\n    sameSite: 'Lax',\n    domain: baseDomain,\n  };\n\n  // if type of value is object, stringify it\n  // this is because js-cookies 3.0 removed builtin json support\n  // ref: https://github.com/js-cookie/js-cookie/releases/tag/v3.0.0\n  if (typeof value === 'object') {\n    value = JSON.stringify(value);\n  }\n\n  Cookies.set(name, value, cookieOptions);\n};\n","export const initOnEvents = ['click', 'touchstart', 'keypress', 'keydown'];\n\nexport const getAudioContext = () => {\n  let audioCtx;\n  try {\n    audioCtx = new (window.AudioContext || window.webkitAudioContext)();\n  } catch {\n    // AudioContext is not available.\n  }\n  return audioCtx;\n};\n\n// eslint-disable-next-line default-param-last\nexport const getAlertAudio = async (baseUrl = '', requestContext) => {\n  const audioCtx = getAudioContext();\n  const playSound = audioBuffer => {\n    window.playAudioAlert = () => {\n      if (audioCtx) {\n        const source = audioCtx.createBufferSource();\n        source.buffer = audioBuffer;\n        source.connect(audioCtx.destination);\n        source.loop = false;\n        source.start();\n      }\n    };\n  };\n\n  if (audioCtx) {\n    const { type = 'dashboard', alertTone = 'ding' } = requestContext || {};\n    const resourceUrl = `${baseUrl}/audio/${type}/${alertTone}.mp3`;\n    const audioRequest = new Request(resourceUrl);\n\n    fetch(audioRequest)\n      .then(response => response.arrayBuffer())\n      .then(buffer => {\n        audioCtx.decodeAudioData(buffer).then(playSound);\n        // eslint-disable-next-line no-promise-executor-return\n        return new Promise(res => res());\n      })\n      .catch(() => {\n        // error\n      });\n  }\n};\n","import Cookies from 'js-cookie';\nimport {\n  addClasses,\n  loadCSS,\n  removeClasses,\n  onLocationChangeListener,\n} from './DOMHelpers';\nimport {\n  body,\n  widgetHolder,\n  createBubbleHolder,\n  createBubbleIcon,\n  bubbleSVG,\n  chatBubble,\n  closeBubble,\n  bubbleHolder,\n  onClickChatBubble,\n  onBubbleClick,\n  setBubbleText,\n  addUnreadClass,\n  removeUnreadClass,\n} from './bubbleHelpers';\nimport { isWidgetColorLighter } from 'shared/helpers/colorHelper';\nimport { dispatchWindowEvent } from 'shared/helpers/CustomEventHelper';\nimport {\n  CHATWOOT_ERROR,\n  CHATWOOT_POSTBACK,\n  CHATWOOT_READY,\n} from '../widget/constants/sdkEvents';\nimport { SET_USER_ERROR } from '../widget/constants/errorTypes';\nimport { getUserCookieName, setCookieWithDomain } from './cookieHelpers';\nimport {\n  getAlertAudio,\n  initOnEvents,\n} from 'shared/helpers/AudioNotificationHelper';\nimport { isFlatWidgetStyle } from './settingsHelper';\nimport { popoutChatWindow } from '../widget/helpers/popoutHelper';\nimport addHours from 'date-fns/addHours';\n\nconst updateAuthCookie = (cookieContent, baseDomain = '') =>\n  setCookieWithDomain('cw_conversation', cookieContent, {\n    baseDomain,\n  });\n\nconst updateCampaignReadStatus = baseDomain => {\n  const expireBy = addHours(new Date(), 1);\n  setCookieWithDomain('cw_snooze_campaigns_till', Number(expireBy), {\n    expires: expireBy,\n    baseDomain,\n  });\n};\n\nconst sanitizeURL = url => {\n  if (url === '') return '';\n\n  try {\n    // any invalid url will not be accepted\n    // example - JaVaScRiP%0at:alert(document.domain)\"\n    // this has an obfuscated javascript protocol\n    const parsedURL = new URL(url);\n\n    // filter out dangerous protocols like `javascript`, `data`, `vbscript`\n    if (!['https', 'http'].includes(parsedURL.protocol)) {\n      throw new Error('Invalid Protocol');\n    }\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.error('Invalid URL', e);\n  }\n\n  return 'about:blank'; // blank page URL\n};\n\nexport const IFrameHelper = {\n  getUrl({ baseUrl, websiteToken }) {\n    baseUrl = sanitizeURL(baseUrl);\n    return `${baseUrl}/widget?website_token=${websiteToken}`;\n  },\n  createFrame: ({ baseUrl, websiteToken }) => {\n    baseUrl = sanitizeURL(baseUrl);\n\n    if (IFrameHelper.getAppFrame()) {\n      return;\n    }\n\n    loadCSS();\n    const iframe = document.createElement('iframe');\n    const cwCookie = Cookies.get('cw_conversation');\n    let widgetUrl = IFrameHelper.getUrl({ baseUrl, websiteToken });\n    if (cwCookie) {\n      widgetUrl = `${widgetUrl}&cw_conversation=${cwCookie}`;\n    }\n    iframe.src = widgetUrl;\n    iframe.allow =\n      'camera;microphone;fullscreen;display-capture;picture-in-picture;clipboard-write;';\n    iframe.id = 'chatwoot_live_chat_widget';\n    iframe.style.visibility = 'hidden';\n\n    let holderClassName = `woot-widget-holder woot--hide woot-elements--${window.$chatwoot.position}`;\n    if (window.$chatwoot.hideMessageBubble) {\n      holderClassName += ` woot-widget--without-bubble`;\n    }\n    if (isFlatWidgetStyle(window.$chatwoot.widgetStyle)) {\n      holderClassName += ` woot-widget-holder--flat`;\n    }\n\n    addClasses(widgetHolder, holderClassName);\n    widgetHolder.id = 'cw-widget-holder';\n    widgetHolder.dataset.turboPermanent = true;\n    widgetHolder.appendChild(iframe);\n    body.appendChild(widgetHolder);\n    IFrameHelper.initPostMessageCommunication();\n    IFrameHelper.initWindowSizeListener();\n    IFrameHelper.preventDefaultScroll();\n  },\n  getAppFrame: () => document.getElementById('chatwoot_live_chat_widget'),\n  getBubbleHolder: () => document.getElementsByClassName('woot--bubble-holder'),\n  sendMessage: (key, value) => {\n    const element = IFrameHelper.getAppFrame();\n    element.contentWindow.postMessage(\n      `chatwoot-widget:${JSON.stringify({ event: key, ...value })}`,\n      '*'\n    );\n  },\n  initPostMessageCommunication: () => {\n    window.onmessage = e => {\n      if (\n        typeof e.data !== 'string' ||\n        e.data.indexOf('chatwoot-widget:') !== 0 ||\n        e.origin !== window.location.origin\n      ) {\n        return;\n      }\n\n      const message = JSON.parse(e.data.replace('chatwoot-widget:', ''));\n      if (typeof IFrameHelper.events[message.event] === 'function') {\n        IFrameHelper.events[message.event](message);\n      }\n    };\n  },\n  initWindowSizeListener: () => {\n    window.addEventListener('resize', () => IFrameHelper.toggleCloseButton());\n  },\n  preventDefaultScroll: () => {\n    widgetHolder.addEventListener('wheel', event => {\n      const deltaY = event.deltaY;\n      const contentHeight = widgetHolder.scrollHeight;\n      const visibleHeight = widgetHolder.offsetHeight;\n      const scrollTop = widgetHolder.scrollTop;\n\n      if (\n        (scrollTop === 0 && deltaY < 0) ||\n        (visibleHeight + scrollTop === contentHeight && deltaY > 0)\n      ) {\n        event.preventDefault();\n      }\n    });\n  },\n\n  setFrameHeightToFitContent: (extraHeight, isFixedHeight) => {\n    const iframe = IFrameHelper.getAppFrame();\n    const updatedIframeHeight = isFixedHeight ? `${extraHeight}px` : '100%';\n\n    if (iframe)\n      iframe.setAttribute('style', `height: ${updatedIframeHeight} !important`);\n  },\n\n  setupAudioListeners: () => {\n    let { baseUrl = '' } = window.$chatwoot;\n    baseUrl = sanitizeURL(baseUrl);\n\n    getAlertAudio(baseUrl, { type: 'widget', alertTone: 'ding' }).then(() =>\n      initOnEvents.forEach(event => {\n        document.removeEventListener(\n          event,\n          IFrameHelper.setupAudioListeners,\n          false\n        );\n      })\n    );\n  },\n\n  events: {\n    loaded: message => {\n      updateAuthCookie(message.config.authToken, window.$chatwoot.baseDomain);\n      window.$chatwoot.hasLoaded = true;\n      const campaignsSnoozedTill = Cookies.get('cw_snooze_campaigns_till');\n      IFrameHelper.sendMessage('config-set', {\n        locale: window.$chatwoot.locale,\n        position: window.$chatwoot.position,\n        hideMessageBubble: window.$chatwoot.hideMessageBubble,\n        showPopoutButton: window.$chatwoot.showPopoutButton,\n        widgetStyle: window.$chatwoot.widgetStyle,\n        darkMode: window.$chatwoot.darkMode,\n        showUnreadMessagesDialog: window.$chatwoot.showUnreadMessagesDialog,\n        campaignsSnoozedTill,\n        welcomeTitle: window.$chatwoot.welcomeTitle,\n        welcomeDescription: window.$chatwoot.welcomeDescription,\n        availableMessage: window.$chatwoot.availableMessage,\n        unavailableMessage: window.$chatwoot.unavailableMessage,\n        enableFileUpload: window.$chatwoot.enableFileUpload,\n        enableEmojiPicker: window.$chatwoot.enableEmojiPicker,\n        enableEndConversation: window.$chatwoot.enableEndConversation,\n      });\n      IFrameHelper.onLoad({\n        widgetColor: message.config.channelConfig.widgetColor,\n      });\n      IFrameHelper.toggleCloseButton();\n\n      if (window.$chatwoot.user) {\n        IFrameHelper.sendMessage('set-user', window.$chatwoot.user);\n      }\n\n      window.playAudioAlert = () => {};\n\n      initOnEvents.forEach(e => {\n        document.addEventListener(e, IFrameHelper.setupAudioListeners, false);\n      });\n\n      if (!window.$chatwoot.resetTriggered) {\n        dispatchWindowEvent({ eventName: CHATWOOT_READY });\n      }\n    },\n    error: ({ errorType, data }) => {\n      dispatchWindowEvent({ eventName: CHATWOOT_ERROR, data: data });\n\n      if (errorType === SET_USER_ERROR) {\n        Cookies.remove(getUserCookieName());\n      }\n    },\n    onEvent({ eventIdentifier: eventName, data }) {\n      dispatchWindowEvent({ eventName, data });\n    },\n    setBubbleLabel(message) {\n      setBubbleText(window.$chatwoot.launcherTitle || message.label);\n    },\n\n    setAuthCookie({ data: { widgetAuthToken } }) {\n      updateAuthCookie(widgetAuthToken, window.$chatwoot.baseDomain);\n    },\n\n    setCampaignReadOn() {\n      updateCampaignReadStatus(window.$chatwoot.baseDomain);\n    },\n\n    postback(data) {\n      dispatchWindowEvent({\n        eventName: CHATWOOT_POSTBACK,\n        data,\n      });\n    },\n\n    toggleBubble: state => {\n      let bubbleState = {};\n      if (state === 'open') {\n        bubbleState.toggleValue = true;\n      } else if (state === 'close') {\n        bubbleState.toggleValue = false;\n      }\n\n      onBubbleClick(bubbleState);\n    },\n\n    popoutChatWindow: ({ baseUrl, websiteToken, locale }) => {\n      baseUrl = sanitizeURL(baseUrl);\n      const cwCookie = Cookies.get('cw_conversation');\n      window.$chatwoot.toggle('close');\n      popoutChatWindow(baseUrl, websiteToken, locale, cwCookie);\n    },\n\n    closeWindow: () => {\n      onBubbleClick({ toggleValue: false });\n      removeUnreadClass();\n    },\n\n    onBubbleToggle: isOpen => {\n      IFrameHelper.sendMessage('toggle-open', { isOpen });\n      if (isOpen) {\n        IFrameHelper.pushEvent('webwidget.triggered');\n      }\n    },\n    onLocationChange: ({ referrerURL, referrerHost }) => {\n      IFrameHelper.sendMessage('change-url', {\n        referrerURL,\n        referrerHost,\n      });\n    },\n    updateIframeHeight: message => {\n      const { extraHeight = 0, isFixedHeight } = message;\n\n      IFrameHelper.setFrameHeightToFitContent(extraHeight, isFixedHeight);\n    },\n\n    setUnreadMode: () => {\n      addUnreadClass();\n      onBubbleClick({ toggleValue: true });\n    },\n\n    resetUnreadMode: () => removeUnreadClass(),\n    handleNotificationDot: event => {\n      if (window.$chatwoot.hideMessageBubble) {\n        return;\n      }\n\n      const bubbleElement = document.querySelector('.woot-widget-bubble');\n      if (\n        event.unreadMessageCount > 0 &&\n        !bubbleElement.classList.contains('unread-notification')\n      ) {\n        addClasses(bubbleElement, 'unread-notification');\n      } else if (event.unreadMessageCount === 0) {\n        removeClasses(bubbleElement, 'unread-notification');\n      }\n    },\n\n    closeChat: () => {\n      onBubbleClick({ toggleValue: false });\n    },\n\n    playAudio: () => {\n      window.playAudioAlert();\n    },\n  },\n  pushEvent: eventName => {\n    IFrameHelper.sendMessage('push-event', { eventName });\n  },\n\n  onLoad: ({ widgetColor }) => {\n    const iframe = IFrameHelper.getAppFrame();\n    iframe.style.visibility = '';\n    iframe.setAttribute('id', `chatwoot_live_chat_widget`);\n\n    if (IFrameHelper.getBubbleHolder().length) {\n      return;\n    }\n    createBubbleHolder(window.$chatwoot.hideMessageBubble);\n    onLocationChangeListener();\n\n    let className = 'woot-widget-bubble';\n    let closeBtnClassName = `woot-elements--${window.$chatwoot.position} woot-widget-bubble woot--close woot--hide`;\n\n    if (isFlatWidgetStyle(window.$chatwoot.widgetStyle)) {\n      className += ' woot-widget-bubble--flat';\n      closeBtnClassName += ' woot-widget-bubble--flat';\n    }\n\n    if (isWidgetColorLighter(widgetColor)) {\n      className += ' woot-widget-bubble-color--lighter';\n      closeBtnClassName += ' woot-widget-bubble-color--lighter';\n    }\n\n    const chatIcon = createBubbleIcon({\n      className,\n      path: bubbleSVG,\n      target: chatBubble,\n    });\n\n    addClasses(closeBubble, closeBtnClassName);\n\n    chatIcon.style.background = widgetColor;\n    closeBubble.style.background = widgetColor;\n\n    bubbleHolder.appendChild(chatIcon);\n    bubbleHolder.appendChild(closeBubble);\n    onClickChatBubble();\n  },\n  toggleCloseButton: () => {\n    let isMobile = false;\n    if (window.matchMedia('(max-width: 668px)').matches) {\n      isMobile = true;\n    }\n    IFrameHelper.sendMessage('toggle-close-button', { isMobile });\n  },\n};\n","import Cookies from 'js-cookie';\nimport { IFrameHelper } from '../sdk/IFrameHelper';\nimport {\n  getBubbleView,\n  getDarkMode,\n  getWidgetStyle,\n} from '../sdk/settingsHelper';\nimport {\n  computeHashForUserData,\n  getUserCookieName,\n  hasUserKeys,\n} from '../sdk/cookieHelpers';\nimport {\n  addClasses,\n  removeClasses,\n  restoreWidgetInDOM,\n} from '../sdk/DOMHelpers';\nimport { setCookieWithDomain } from '../sdk/cookieHelpers';\nimport { SDK_SET_BUBBLE_VISIBILITY } from 'shared/constants/sharedFrameEvents';\n\nconst runSDK = ({ baseUrl, websiteToken }) => {\n  if (window.$chatwoot) {\n    return;\n  }\n\n  // if this is a Rails Turbo app\n  document.addEventListener('turbo:before-render', event => {\n    // when morphing the page, this typically happens on reload like events\n    // say you update a \"Customer\" on a form and it reloads the page\n    // We have already added data-turbo-permananent to true. This\n    // will ensure that the widget it preserved\n    // Read more about morphing here: https://turbo.hotwired.dev/handbook/page_refreshes#morphing\n    // and peristing elements here: https://turbo.hotwired.dev/handbook/building#persisting-elements-across-page-loads\n    if (event.detail.renderMethod === 'morph') return;\n\n    restoreWidgetInDOM(event.detail.newBody);\n  });\n\n  if (window.Turbolinks) {\n    document.addEventListener('turbolinks:before-render', event => {\n      restoreWidgetInDOM(event.data.newBody);\n    });\n  }\n\n  // if this is an astro app\n  document.addEventListener('astro:before-swap', event =>\n    restoreWidgetInDOM(event.newDocument.body)\n  );\n\n  const chatwootSettings = window.chatwootSettings || {};\n  let locale = chatwootSettings.locale;\n  let baseDomain = chatwootSettings.baseDomain;\n\n  if (chatwootSettings.useBrowserLanguage) {\n    locale = window.navigator.language.replace('-', '_');\n  }\n\n  window.$chatwoot = {\n    baseUrl,\n    baseDomain,\n    hasLoaded: false,\n    hideMessageBubble: chatwootSettings.hideMessageBubble || false,\n    isOpen: false,\n    position: chatwootSettings.position === 'left' ? 'left' : 'right',\n    websiteToken,\n    locale,\n    useBrowserLanguage: chatwootSettings.useBrowserLanguage || false,\n    type: getBubbleView(chatwootSettings.type),\n    launcherTitle: chatwootSettings.launcherTitle || '',\n    showPopoutButton: chatwootSettings.showPopoutButton || false,\n    showUnreadMessagesDialog: chatwootSettings.showUnreadMessagesDialog ?? true,\n    widgetStyle: getWidgetStyle(chatwootSettings.widgetStyle) || 'standard',\n    resetTriggered: false,\n    darkMode: getDarkMode(chatwootSettings.darkMode),\n    welcomeTitle: chatwootSettings.welcomeTitle || '',\n    welcomeDescription: chatwootSettings.welcomeDescription || '',\n    availableMessage: chatwootSettings.availableMessage || '',\n    unavailableMessage: chatwootSettings.unavailableMessage || '',\n    enableFileUpload: chatwootSettings.enableFileUpload ?? true,\n    enableEmojiPicker: chatwootSettings.enableEmojiPicker ?? true,\n    enableEndConversation: chatwootSettings.enableEndConversation ?? true,\n\n    toggle(state) {\n      IFrameHelper.events.toggleBubble(state);\n    },\n\n    toggleBubbleVisibility(visibility) {\n      let widgetElm = document.querySelector('.woot--bubble-holder');\n      let widgetHolder = document.querySelector('.woot-widget-holder');\n      if (visibility === 'hide') {\n        addClasses(widgetHolder, 'woot-widget--without-bubble');\n        addClasses(widgetElm, 'woot-hidden');\n        window.$chatwoot.hideMessageBubble = true;\n      } else if (visibility === 'show') {\n        removeClasses(widgetElm, 'woot-hidden');\n        removeClasses(widgetHolder, 'woot-widget--without-bubble');\n        window.$chatwoot.hideMessageBubble = false;\n      }\n      IFrameHelper.sendMessage(SDK_SET_BUBBLE_VISIBILITY, {\n        hideMessageBubble: window.$chatwoot.hideMessageBubble,\n      });\n    },\n\n    popoutChatWindow() {\n      IFrameHelper.events.popoutChatWindow({\n        baseUrl: window.$chatwoot.baseUrl,\n        websiteToken: window.$chatwoot.websiteToken,\n        locale,\n      });\n    },\n\n    setUser(identifier, user) {\n      if (typeof identifier !== 'string' && typeof identifier !== 'number') {\n        throw new Error('Identifier should be a string or a number');\n      }\n\n      if (!hasUserKeys(user)) {\n        throw new Error(\n          'User object should have one of the keys [avatar_url, email, name]'\n        );\n      }\n\n      const userCookieName = getUserCookieName();\n      const existingCookieValue = Cookies.get(userCookieName);\n      const hashToBeStored = computeHashForUserData({ identifier, user });\n      if (hashToBeStored === existingCookieValue) {\n        return;\n      }\n\n      window.$chatwoot.identifier = identifier;\n      window.$chatwoot.user = user;\n      IFrameHelper.sendMessage('set-user', { identifier, user });\n\n      setCookieWithDomain(userCookieName, hashToBeStored, {\n        baseDomain,\n      });\n    },\n\n    setCustomAttributes(customAttributes = {}) {\n      if (!customAttributes || !Object.keys(customAttributes).length) {\n        throw new Error('Custom attributes should have atleast one key');\n      } else {\n        IFrameHelper.sendMessage('set-custom-attributes', { customAttributes });\n      }\n    },\n\n    deleteCustomAttribute(customAttribute = '') {\n      if (!customAttribute) {\n        throw new Error('Custom attribute is required');\n      } else {\n        IFrameHelper.sendMessage('delete-custom-attribute', {\n          customAttribute,\n        });\n      }\n    },\n\n    setConversationCustomAttributes(customAttributes = {}) {\n      if (!customAttributes || !Object.keys(customAttributes).length) {\n        throw new Error('Custom attributes should have atleast one key');\n      } else {\n        IFrameHelper.sendMessage('set-conversation-custom-attributes', {\n          customAttributes,\n        });\n      }\n    },\n\n    deleteConversationCustomAttribute(customAttribute = '') {\n      if (!customAttribute) {\n        throw new Error('Custom attribute is required');\n      } else {\n        IFrameHelper.sendMessage('delete-conversation-custom-attribute', {\n          customAttribute,\n        });\n      }\n    },\n\n    setLabel(label = '') {\n      IFrameHelper.sendMessage('set-label', { label });\n    },\n\n    removeLabel(label = '') {\n      IFrameHelper.sendMessage('remove-label', { label });\n    },\n\n    setLocale(localeToBeUsed = 'en') {\n      IFrameHelper.sendMessage('set-locale', { locale: localeToBeUsed });\n    },\n\n    setColorScheme(darkMode = 'light') {\n      IFrameHelper.sendMessage('set-color-scheme', {\n        darkMode: getDarkMode(darkMode),\n      });\n    },\n\n    reset() {\n      if (window.$chatwoot.isOpen) {\n        IFrameHelper.events.toggleBubble();\n      }\n\n      Cookies.remove('cw_conversation');\n      Cookies.remove(getUserCookieName());\n\n      const iframe = IFrameHelper.getAppFrame();\n      iframe.src = IFrameHelper.getUrl({\n        baseUrl: window.$chatwoot.baseUrl,\n        websiteToken: window.$chatwoot.websiteToken,\n      });\n\n      window.$chatwoot.resetTriggered = true;\n    },\n  };\n\n  IFrameHelper.createFrame({\n    baseUrl,\n    websiteToken,\n  });\n};\n\nwindow.chatwootSDK = {\n  run: runSDK,\n};\n"],"names":["SDK_CSS","loadCSS","css","restoreElement","id","newBody","element","newElement","restoreWidgetInDOM","addClasses","elm","classes","toggleClass","removeClasses","onLocationChange","referrerURL","referrerHost","IFrameHelper","onLocationChangeListener","oldHref","config","bodyList","mutations","BUBBLE_DESIGN","WIDGET_DESIGN","DARK_MODE","getBubbleView","type","isExpandedView","getWidgetStyle","style","isFlatWidgetStyle","getDarkMode","darkMode","createEvent","eventName","data","event","dispatchWindowEvent","bubbleSVG","body","widgetHolder","bubbleHolder","chatBubble","closeBubble","setBubbleText","bubbleText","textNode","createBubbleIcon","className","path","target","bubbleClassName","bubbleIcon","bubblePath","createBubbleHolder","hideMessageBubble","handleBubbleToggle","newIsOpen","CHATWOOT_OPENED","CHATWOOT_CLOSED","onBubbleClick","props","toggleValue","isOpen","onClickChatBubble","addUnreadClass","holderEl","removeUnreadClass","base64map","crypt","n","b","i","bytes","words","hex","c","base64","triplet","j","imod4","cryptModule","charenc","str","charenc_1","isBuffer_1","obj","isBuffer","isSlowBuffer","require$$0","utf8","require$$1","require$$2","bin","md5","message","options","m","l","a","d","FF","GG","HH","II","aa","bb","cc","dd","x","s","t","md5Module","digestbytes","REQUIRED_USER_KEYS","ALLOWED_USER_ATTRIBUTES","getUserCookieName","SET_USER_COOKIE_PREFIX","websiteIdentifier","getUserString","identifier","user","acc","key","computeHashForUserData","args","hasUserKeys","setCookieWithDomain","name","value","expires","baseDomain","cookieOptions","Cookies","initOnEvents","getAudioContext","audioCtx","getAlertAudio","baseUrl","requestContext","playSound","audioBuffer","source","alertTone","resourceUrl","audioRequest","response","buffer","res","updateAuthCookie","cookieContent","updateCampaignReadStatus","expireBy","addHours","sanitizeURL","url","parsedURL","e","websiteToken","iframe","cwCookie","widgetUrl","holderClassName","deltaY","contentHeight","visibleHeight","scrollTop","extraHeight","isFixedHeight","updatedIframeHeight","campaignsSnoozedTill","CHATWOOT_READY","errorType","CHATWOOT_ERROR","SET_USER_ERROR","widgetAuthToken","CHATWOOT_POSTBACK","state","bubbleState","locale","popoutChatWindow","bubbleElement","widgetColor","closeBtnClassName","isWidgetColorLighter","chatIcon","isMobile","runSDK","chatwootSettings","visibility","widgetElm","SDK_SET_BUBBLE_VISIBILITY","userCookieName","existingCookieValue","hashToBeStored","customAttributes","customAttribute","label","localeToBeUsed"],"mappings":"gSAAO,MAAMA,GAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA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","x_google_ignoreList":[6,7,8,9]}