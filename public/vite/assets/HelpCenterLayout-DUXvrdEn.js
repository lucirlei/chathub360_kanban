import{c as w,n as r,o as a,p as t,g as u,e as f,t as P,H as _,F as I,j as U,a as E,l as L,r as $,b as T}from"./_plugin-vue_export-helper-BK9LWihk.js";import{y as D,p as F,O as j,B as W,E as G}from"./dashboard-CG5kupEZ.js";import{u as O,a as V}from"./Validators-U_Z_leEu.js";import{c as Y,b as A}from"./index-b3F7WOf6.js";import{_ as b}from"./typing-DLDGfuj7.js";import{u as M}from"./globalConfig-DNoPylIh.js";const q={class:"pt-5 pb-3 bg-n-alpha-3 backdrop-blur-[100px] outline outline-n-container outline-1 z-50 absolute w-[27.5rem] rounded-xl shadow-md flex flex-col gap-4"},J={class:"flex items-center justify-between gap-4 px-6 pb-3 border-b border-n-alpha-2"},K={class:"flex flex-col gap-1"},Q={class:"flex items-center gap-2"},X={class:"text-sm text-slate-600 dark:text-slate-300"},Z={key:0,class:"flex flex-col gap-2 px-4"},ee={key:0,class:"flex items-center gap-1"},te={class:"text-sm truncate text-n-slate-11"},ae={class:"text-sm font-medium truncate text-n-slate-12"},S="portals_articles_index",se="portals_categories_index",oe={__name:"PortalSwitcher",emits:["close","createPortal"],setup(d,{emit:k}){const h=k,{t:x}=M(),m=O(),i=V(),c=Y(),y=["portals_categories_articles_index","portals_categories_articles_edit"],p=A("portals/allPortals"),v=w(()=>m.params.portalSlug),C=w(()=>D(v.value)),s=l=>l.slug===v.value,o=l=>{var n;return((n=l==null?void 0:l.logo)==null?void 0:n.file_url)||""},g=async(l,n)=>{await c.dispatch("portals/switchPortal",!0),await c.dispatch("portals/index");const e={portalSlug:l,locale:n};await c.dispatch("portals/show",e),await c.dispatch("categories/index",e),await c.dispatch("agents/get"),await c.dispatch("portals/switchPortal",!1)},N=async l=>{if(s(l))return;const{slug:n,meta:{default_locale:e}}=l;h("close"),await g(n,e);const R=y.includes(m.name)?se:m.name||S;i.push({name:R,params:{portalSlug:n,locale:e}})},H=()=>{h("createPortal"),h("close")},z=()=>{window.open(C.value,"_blank")},B=()=>{i.push({name:"portals_index",params:{navigationPath:S}})};return(l,n)=>(a(),r("div",q,[t("div",J,[t("div",K,[t("div",Q,[t("h2",{class:"text-base font-medium cursor-pointer text-slate-900 dark:text-slate-50 w-fit hover:underline",onClick:B},P(_(x)("HELP_CENTER.PORTAL_SWITCHER.PORTALS")),1),f(b,{icon:"i-lucide-arrow-up-right",variant:"ghost",color:"slate","icon-lib":"lucide",size:"sm",class:"!w-6 !h-6 hover:bg-n-slate-2 text-n-slate-11 !p-0.5 rounded-md",onClick:z})]),t("p",X,P(_(x)("HELP_CENTER.PORTAL_SWITCHER.CREATE_PORTAL")),1)]),f(b,{label:_(x)("HELP_CENTER.PORTAL_SWITCHER.NEW_PORTAL"),color:"slate",icon:"i-lucide-plus",size:"sm",class:"!bg-n-alpha-2 hover:!bg-n-alpha-3",onClick:H},null,8,["label"])]),_(p).length>0?(a(),r("div",Z,[(a(!0),r(I,null,U(_(p),(e,R)=>(a(),E(b,{key:R,label:e.name,variant:"ghost",color:"slate","trailing-icon":"",icon:s(e)?"i-lucide-check":"",class:"!justify-end !px-2 !py-2 hover:!bg-n-alpha-2 [&>.i-lucide-check]:text-n-teal-10 h-9",size:"sm",onClick:ge=>N(e)},{default:L(()=>[e.custom_domain?(a(),r("div",ee,[n[0]||(n[0]=t("span",{class:"i-lucide-link size-3"},null,-1)),t("span",te,P(e.custom_domain||""),1)])):u("",!0),t("span",ae,P(e.name||""),1),e?(a(),E(F,{key:1,name:e.name,src:o(e),size:20,"icon-name":"i-lucide-building-2","rounded-full":""},null,8,["name","src"])):u("",!0)]),_:2},1032,["label","icon","onClick"]))),128))])):u("",!0)]))}},le={class:"flex flex-col w-full h-full overflow-hidden bg-n-background"},ne={class:"sticky top-0 z-10 px-6 pb-3 lg:px-0"},re={class:"w-full max-w-[60rem] mx-auto lg:px-6"},ie={key:0,class:"flex items-center justify-start h-20 gap-2"},ce={key:0,class:"text-xl font-medium text-n-slate-12"},ue={key:1,class:"relative group"},de={class:"flex-1 px-6 overflow-y-auto lg:px-0"},me={class:"w-full max-w-[60rem] mx-auto py-3 lg:px-6"},pe={key:0,class:"sticky bottom-0 z-10 px-4 pb-4"},be={__name:"HelpCenterLayout",props:{currentPage:{type:Number,default:1},totalItems:{type:Number,default:100},itemsPerPage:{type:Number,default:25},showHeaderTitle:{type:Boolean,default:!0},showPaginationFooter:{type:Boolean,default:!0}},emits:["update:currentPage"],setup(d,{emit:k}){const h=k,x=O(),m=$(null),i=$(!1),c=A("portals/allPortals"),y=w(()=>x.params.portalSlug),p=w(()=>{var s,o;return(o=(s=c.value)==null?void 0:s.find(g=>g.slug===y.value))==null?void 0:o.name}),v=s=>{h("update:currentPage",s)},C=()=>{i.value=!i.value};return(s,o)=>(a(),r("section",le,[t("header",ne,[t("div",re,[d.showHeaderTitle?(a(),r("div",ie,[p.value?(a(),r("span",ce,P(p.value),1)):u("",!0),p.value?(a(),r("div",ue,[f(_(j),{onTrigger:o[2]||(o[2]=g=>i.value=!1)},{default:L(()=>[f(b,{icon:"i-lucide-chevron-down",variant:"ghost",color:"slate",size:"xs",class:"rounded-md group-hover:bg-n-slate-3 hover:bg-n-slate-3",onClick:C}),i.value?(a(),E(oe,{key:0,class:"absolute ltr:left-0 rtl:right-0 top-9",onClose:o[0]||(o[0]=g=>i.value=!1),onCreatePortal:o[1]||(o[1]=g=>m.value.dialogRef.open())})):u("",!0)]),_:1}),f(W,{ref_key:"createPortalDialogRef",ref:m},null,512)])):u("",!0)])):u("",!0),T(s.$slots,"header-actions")])]),t("main",de,[t("div",me,[T(s.$slots,"content")])]),d.showPaginationFooter?(a(),r("footer",pe,[f(G,{"current-page":d.currentPage,"total-items":d.totalItems,"items-per-page":d.itemsPerPage,"onUpdate:currentPage":v},null,8,["current-page","total-items","items-per-page"])])):u("",!0),T(s.$slots,"default")]))}};export{be as _};
