const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/auto-track-4i-lyWdr.js","assets/useBranding-CD_QbCIP.js","assets/_plugin-vue_export-helper-IoQslFd3.js","assets/useBranding-aTKfDg_G.css","assets/_commonjsHelpers-BosuxZz1.js","assets/index-BAIusSSO.js","assets/helpers-DWHPOMuB.js","assets/index-DopHWMLi.js","assets/index-w-1_omK2.js","assets/is-plan-event-enabled-DS1Agtkw.js","assets/index-Pv9In6do.js","assets/index-DIhLyoi2.js","assets/index-SphxxEIl.js"])))=>i.map(i=>d[i]);
import{_ as R,e as yr}from"./useBranding-CD_QbCIP.js";import{g as gr,c as C}from"./_commonjsHelpers-BosuxZz1.js";var We=function(e,t){return We=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},We(e,t)};function J(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");We(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var w=function(){return w=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},w.apply(this,arguments)};function mr(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function O(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function u(y){try{f(n.next(y))}catch(m){a(m)}}function p(y){try{f(n.throw(y))}catch(m){a(m)}}function f(y){y.done?o(y.value):i(y.value).then(u,p)}f((n=n.apply(e,t||[])).next())})}function A(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(f){return function(y){return p([f,y])}}function p(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){r.label=f[1];break}if(f[0]===6&&r.label<o[1]){r.label=o[1],o=f;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(f);break}o[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(y){f=[6,y],i=0}finally{n=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function k(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function re(e){return typeof e=="string"}function He(e){return typeof e=="number"}function le(e){return typeof e=="function"}function V(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()==="object"}function br(e){var t,r,n,i=(n=(r=(t=e.userId)!==null&&t!==void 0?t:e.anonymousId)!==null&&r!==void 0?r:e.groupId)!==null&&n!==void 0?n:e.previousId;return re(i)}var me=function(e){J(t,e);function t(r,n){var i=e.call(this,n)||this;return i.field=r,i}return t}(Error);function ae(e){var t,r=e&&e.event&&e.event.type,n=e.event;if(n===void 0)throw new me("event","Event is missing");if(!re(r))throw new me("event","Event is not a string");if(r==="track"&&!re(n.event))throw new me("event","Event is not a string");var i=(t=n.properties)!==null&&t!==void 0?t:n.traits;if(r!=="alias"&&!V(i))throw new me("properties","properties is not an object");if(!br(n))throw new me("userId","Missing userId or anonymousId");return e}var _r={name:"Event Validation",type:"before",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:ae,identify:ae,page:ae,alias:ae,group:ae,screen:ae};function wr(e,t,r,n){var i,o=[e,t,r,n],a=V(e)?e.event:e;if(!a||!re(a))throw new Error("Event missing");var u=V(e)?(i=e.properties)!==null&&i!==void 0?i:{}:V(t)?t:{},p={};le(r)||(p=r??{}),V(e)&&!le(t)&&(p=t??{});var f=o.find(le);return[a,u,p,f]}function Ct(e,t,r,n,i){var o,a,u=null,p=null,f=[e,t,r,n,i],y=f.filter(re);y[0]!==void 0&&y[1]!==void 0&&(u=y[0],p=y[1]),y.length===1&&(u=null,p=y[0]);var m=f.find(le),b=f.filter(function(I){return p===null?V(I):V(I)||I===null}),g=(o=b[0])!==null&&o!==void 0?o:{},_=(a=b[1])!==null&&a!==void 0?a:{};return[u,p,g,_,m]}var Ft=function(e){return function(){for(var t,r,n,i,o,a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var p=null;p=(n=(t=a.find(re))!==null&&t!==void 0?t:(r=a.find(He))===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:e.id();var f=a.filter(function(g){return p===null?V(g):V(g)||g===null}),y=(i=f[0])!==null&&i!==void 0?i:{},m=(o=f[1])!==null&&o!==void 0?o:{},b=a.find(le);return[p,y,m,b]}};function Sr(e,t,r,n){He(e)&&(e=e.toString()),He(t)&&(t=t.toString());var i=[e,t,r,n],o=i.filter(re),a=o[0],u=a===void 0?e:a,p=o[1],f=p===void 0?null:p,y=i.filter(V)[0],m=y===void 0?{}:y,b=i.find(le);return[u,f,m,b]}function at(){return typeof window<"u"}function Qi(){return!at()}function Ir(){return at()?window.navigator.onLine:!0}function Ce(){return!Ir()}var ut=function(){function e(){this.callbacks={}}return e.prototype.on=function(t,r){return this.callbacks[t]?this.callbacks[t].push(r):this.callbacks[t]=[r],this},e.prototype.once=function(t,r){var n=this,i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];n.off(t,i),r.apply(n,o)};return this.on(t,i),this},e.prototype.off=function(t,r){var n,i=(n=this.callbacks[t])!==null&&n!==void 0?n:[],o=i.filter(function(a){return a!==r});return this.callbacks[t]=o,this},e.prototype.emit=function(t){for(var r=this,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=(n=this.callbacks[t])!==null&&n!==void 0?n:[];return a.forEach(function(u){u.apply(r,i)}),this},e}(),Xe=function(e,t){return Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Xe(e,t)};function st(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Xe(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Z=function(){return Z=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Z.apply(this,arguments)};function Wi(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}function z(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function u(y){try{f(n.next(y))}catch(m){a(m)}}function p(y){try{f(n.throw(y))}catch(m){a(m)}}function f(y){y.done?o(y.value):i(y.value).then(u,p)}f((n=n.apply(e,t||[])).next())})}function K(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(f){return function(y){return p([f,y])}}function p(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){r.label=f[1];break}if(f[0]===6&&r.label<o[1]){r.label=o[1],o=f;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(f);break}o[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(y){f=[6,y],i=0}finally{n=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function Tt(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function Ye(e,t,r){t.split&&(t=t.split("."));for(var n=0,i=t.length,o=e,a,u;n<i&&(u=""+t[n++],!(u==="__proto__"||u==="constructor"||u==="prototype"));)o=o[u]=n===i?r:typeof(a=o[u])==typeof t?a:t[n]*0!==0||~(""+t[n]).indexOf(".")?{}:[]}function Or(e,t){return new Promise(function(r,n){var i=setTimeout(function(){n(Error("Promise timed out"))},t);e.then(function(o){return clearTimeout(i),r(o)}).catch(n)})}function Ar(e){return new Promise(function(t){return setTimeout(t,e)})}function Er(e,t,r){var n=function(){try{return Promise.resolve(t(e))}catch(i){return Promise.reject(i)}};return Ar(r).then(function(){return Or(n(),1e3)}).catch(function(i){e==null||e.log("warn","Callback Error",{error:i}),e==null||e.stats.increment("callback_error")}).then(function(){return e})}function Pr(e){var t=Math.random()+1,r=e.minTimeout,n=r===void 0?500:r,i=e.factor,o=i===void 0?2:i,a=e.attempt,u=e.maxTimeout,p=u===void 0?1/0:u;return Math.min(t*n*Math.pow(o,a),p)}var Vt="onRemoveFromFuture",ct=function(e){st(t,e);function t(r,n,i){var o=e.call(this)||this;return o.future=[],o.maxAttempts=r,o.queue=n,o.seen=i??{},o}return t.prototype.push=function(){for(var r=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=n.map(function(a){var u=r.updateAttempts(a);return u>r.maxAttempts||r.includes(a)?!1:(r.queue.push(a),!0)});return this.queue=this.queue.sort(function(a,u){return r.getAttempts(a)-r.getAttempts(u)}),o},t.prototype.pushWithBackoff=function(r){var n=this;if(this.getAttempts(r)===0)return this.push(r)[0];var i=this.updateAttempts(r);if(i>this.maxAttempts||this.includes(r))return!1;var o=Pr({attempt:i-1});return setTimeout(function(){n.queue.push(r),n.future=n.future.filter(function(a){return a.id!==r.id}),n.emit(Vt)},o),this.future.push(r),!0},t.prototype.getAttempts=function(r){var n;return(n=this.seen[r.id])!==null&&n!==void 0?n:0},t.prototype.updateAttempts=function(r){return this.seen[r.id]=this.getAttempts(r)+1,this.getAttempts(r)},t.prototype.includes=function(r){return this.queue.includes(r)||this.future.includes(r)||!!this.queue.find(function(n){return n.id===r.id})||!!this.future.find(function(n){return n.id===r.id})},t.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(t.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),t}(ut),ee=256,De=[],Pe;for(;ee--;)De[ee]=(ee+256).toString(16).substring(1);function lt(){var e=0,t,r="";if(!Pe||ee+16>256){for(Pe=Array(e=256);e--;)Pe[e]=256*Math.random()|0;e=ee=0}for(;e<16;e++)t=Pe[ee+e],e==6?r+=De[t&15|64]:e==8?r+=De[t&63|128]:r+=De[t],e&1&&e>1&&e<11&&(r+="-");return ee++,r}var xr=function(){function e(){this._logs=[]}return e.prototype.log=function(t,r,n){var i=new Date;this._logs.push({level:t,message:r,time:i,extras:n})},Object.defineProperty(e.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),e.prototype.flush=function(){if(this.logs.length>1){var t=this._logs.reduce(function(r,n){var i,o,a,u=Z(Z({},n),{json:JSON.stringify(n.extras,null," "),extras:n.extras});delete u.time;var p=(a=(o=n.time)===null||o===void 0?void 0:o.toISOString())!==null&&a!==void 0?a:"";return r[p]&&(p="".concat(p,"-").concat(Math.random())),Z(Z({},r),(i={},i[p]=u,i))},{});console.table?console.table(t):console.log(t)}else this.logs.forEach(function(r){var n=r.level,i=r.message,o=r.extras;n==="info"||n==="debug"?console.log(i,o??""):console[n](i,o??"")});this._logs=[]},e}(),jr=function(e){var t={gauge:"g",counter:"c"};return t[e]},Gt=function(){function e(){this.metrics=[]}return e.prototype.increment=function(t,r,n){r===void 0&&(r=1),this.metrics.push({metric:t,value:r,tags:n??[],type:"counter",timestamp:Date.now()})},e.prototype.gauge=function(t,r,n){this.metrics.push({metric:t,value:r,tags:n??[],type:"gauge",timestamp:Date.now()})},e.prototype.flush=function(){var t=this.metrics.map(function(r){return Z(Z({},r),{tags:r.tags.join(",")})});console.table?console.table(t):console.log(t),this.metrics=[]},e.prototype.serialize=function(){return this.metrics.map(function(t){return{m:t.metric,v:t.value,t:t.tags,k:jr(t.type),e:t.timestamp}})},e}(),Dr=function(e){st(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.gauge=function(){},t.prototype.increment=function(){},t.prototype.flush=function(){},t.prototype.serialize=function(){return[]},t}(Gt),pe=function(){function e(t){var r,n,i;this.retry=(r=t.retry)!==null&&r!==void 0?r:!0,this.type=(n=t.type)!==null&&n!==void 0?n:"plugin Error",this.reason=(i=t.reason)!==null&&i!==void 0?i:""}return e}(),Fe=function(){function e(t,r,n,i){r===void 0&&(r=lt()),n===void 0&&(n=new Dr),i===void 0&&(i=new xr),this.attempts=0,this.event=t,this._id=r,this.logger=i,this.stats=n}return e.system=function(){},e.prototype.isSame=function(t){return t.id===this.id},e.prototype.cancel=function(t){throw t||new pe({reason:"Context Cancel"})},e.prototype.log=function(t,r,n){this.logger.log(t,r,n)},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),e.prototype.updateEvent=function(t,r){var n;if(t.split(".")[0]==="integrations"){var i=t.split(".")[1];if(((n=this.event.integrations)===null||n===void 0?void 0:n[i])===!1)return this.event}return Ye(this.event,t,r),this.event},e.prototype.failedDelivery=function(){return this._failedDelivery},e.prototype.setFailedDelivery=function(t){this._failedDelivery=t},e.prototype.logs=function(){return this.logger.logs},e.prototype.flush=function(){this.logger.flush(),this.stats.flush()},e.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},e}();function Mr(e,t){var r={};return e.forEach(function(n){var i,o=void 0;{var a=n[t];o=typeof a!="string"?JSON.stringify(a):a}o!==void 0&&(r[o]=Tt(Tt([],(i=r[o])!==null&&i!==void 0?i:[],!0),[n],!1))}),r}var Cr=function(e){return typeof e=="object"&&e!==null&&"then"in e&&typeof e.then=="function"},Fr=function(){var e,t,r=0;return{done:function(){return e},run:function(n){var i=n();return Cr(i)&&(++r===1&&(e=new Promise(function(o){return t=o})),i.finally(function(){return--r===0&&t()})),i}}};function Tr(e){return z(this,void 0,void 0,function(){var t;return K(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e()];case 1:return[2,r.sent()];case 2:return t=r.sent(),[2,Promise.reject(t)];case 3:return[2]}})})}function we(e,t){e.log("debug","plugin",{plugin:t.name});var r=new Date().getTime(),n=t[e.event.type];if(n===void 0)return Promise.resolve(e);var i=Tr(function(){return n.apply(t,[e])}).then(function(o){var a=new Date().getTime()-r;return o.stats.gauge("plugin_time",a,["plugin:".concat(t.name)]),o}).catch(function(o){if(o instanceof pe&&o.type==="middleware_cancellation")throw o;return o instanceof pe?(e.log("warn",o.type,{plugin:t.name,error:o}),o):(e.log("error","plugin Error",{plugin:t.name,error:o}),e.stats.increment("plugin_error",1,["plugin:".concat(t.name)]),o)});return i}function kr(e,t){return we(e,t).then(function(r){if(r instanceof Fe)return r;e.log("debug","Context canceled"),e.stats.increment("context_canceled"),e.cancel(r)})}function Lr(){return typeof window<"u"}function Nr(){return Lr()?window.navigator.onLine:!0}function Rr(){return!Nr()}var Br=function(e){st(t,e);function t(r){var n=e.call(this)||this;return n.criticalTasks=Fr(),n.plugins=[],n.failedInitializations=[],n.flushing=!1,n.queue=r,n.queue.on(Vt,function(){n.scheduleFlush(0)}),n}return t.prototype.register=function(r,n,i){return z(this,void 0,void 0,function(){var o=this;return K(this,function(a){switch(a.label){case 0:return[4,Promise.resolve(n.load(r,i)).then(function(){o.plugins.push(n)}).catch(function(u){if(n.type==="destination"){o.failedInitializations.push(n.name),console.warn(n.name,u),r.log("warn","Failed to load destination",{plugin:n.name,error:u});return}throw u})];case 1:return a.sent(),[2]}})})},t.prototype.deregister=function(r,n,i){return z(this,void 0,void 0,function(){var o;return K(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),n.unload?[4,Promise.resolve(n.unload(r,i))]:[3,2];case 1:a.sent(),a.label=2;case 2:return this.plugins=this.plugins.filter(function(u){return u.name!==n.name}),[3,4];case 3:return o=a.sent(),r.log("warn","Failed to unload destination",{plugin:n.name,error:o}),[3,4];case 4:return[2]}})})},t.prototype.dispatch=function(r){return z(this,void 0,void 0,function(){var n;return K(this,function(i){return r.log("debug","Dispatching"),r.stats.increment("message_dispatched"),this.queue.push(r),n=this.subscribeToDelivery(r),this.scheduleFlush(0),[2,n]})})},t.prototype.subscribeToDelivery=function(r){return z(this,void 0,void 0,function(){var n=this;return K(this,function(i){return[2,new Promise(function(o){var a=function(u,p){u.isSame(r)&&(n.off("flush",a),o(u))};n.on("flush",a)})]})})},t.prototype.dispatchSingle=function(r){return z(this,void 0,void 0,function(){var n=this;return K(this,function(i){return r.log("debug","Dispatching"),r.stats.increment("message_dispatched"),this.queue.updateAttempts(r),r.attempts=1,[2,this.deliver(r).catch(function(o){var a=n.enqueuRetry(o,r);return a?n.subscribeToDelivery(r):(r.setFailedDelivery({reason:o}),r)})]})})},t.prototype.isEmpty=function(){return this.queue.length===0},t.prototype.scheduleFlush=function(r){var n=this;r===void 0&&(r=500),!this.flushing&&(this.flushing=!0,setTimeout(function(){n.flush().then(function(){setTimeout(function(){n.flushing=!1,n.queue.length&&n.scheduleFlush(0)},0)})},r))},t.prototype.deliver=function(r){return z(this,void 0,void 0,function(){var n,i,o,a;return K(this,function(u){switch(u.label){case 0:return[4,this.criticalTasks.done()];case 1:u.sent(),n=Date.now(),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,this.flushOne(r)];case 3:return r=u.sent(),i=Date.now()-n,this.emit("delivery_success",r),r.stats.gauge("delivered",i),r.log("debug","Delivered",r.event),[2,r];case 4:throw o=u.sent(),a=o,r.log("error","Failed to deliver",a),this.emit("delivery_failure",r,a),r.stats.increment("delivery_failed"),o;case 5:return[2]}})})},t.prototype.enqueuRetry=function(r,n){var i=!(r instanceof pe)||r.retry;return i?this.queue.pushWithBackoff(n):!1},t.prototype.flush=function(){return z(this,void 0,void 0,function(){var r,n,i;return K(this,function(o){switch(o.label){case 0:if(this.queue.length===0||Rr())return[2,[]];if(r=this.queue.pop(),!r)return[2,[]];r.attempts=this.queue.getAttempts(r),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.deliver(r)];case 2:return r=o.sent(),this.emit("flush",r,!0),[3,4];case 3:return n=o.sent(),i=this.enqueuRetry(n,r),i||(r.setFailedDelivery({reason:n}),this.emit("flush",r,!1)),[2,[]];case 4:return[2,[r]]}})})},t.prototype.isReady=function(){return!0},t.prototype.availableExtensions=function(r){var n=this.plugins.filter(function(g){var _,I,S;if(g.type!=="destination"&&g.name!=="Segment.io")return!0;var v=void 0;return(_=g.alternativeNames)===null||_===void 0||_.forEach(function(h){r[h]!==void 0&&(v=r[h])}),(S=(I=r[g.name])!==null&&I!==void 0?I:v)!==null&&S!==void 0?S:(g.name==="Segment.io"?!0:r.All)!==!1}),i=Mr(n,"type"),o=i.before,a=o===void 0?[]:o,u=i.enrichment,p=u===void 0?[]:u,f=i.destination,y=f===void 0?[]:f,m=i.after,b=m===void 0?[]:m;return{before:a,enrichment:p,destinations:y,after:b}},t.prototype.flushOne=function(r){var n,i;return z(this,void 0,void 0,function(){var o,a,u,p,f,y,_,m,b,g,_,I,S,v,h;return K(this,function(s){switch(s.label){case 0:if(!this.isReady())throw new Error("Not ready");r.attempts>1&&this.emit("delivery_retry",r),o=this.availableExtensions((n=r.event.integrations)!==null&&n!==void 0?n:{}),a=o.before,u=o.enrichment,p=0,f=a,s.label=1;case 1:return p<f.length?(y=f[p],[4,kr(r,y)]):[3,4];case 2:_=s.sent(),_ instanceof Fe&&(r=_),this.emit("message_enriched",r,y),s.label=3;case 3:return p++,[3,1];case 4:m=0,b=u,s.label=5;case 5:return m<b.length?(g=b[m],[4,we(r,g)]):[3,8];case 6:_=s.sent(),_ instanceof Fe&&(r=_),this.emit("message_enriched",r,g),s.label=7;case 7:return m++,[3,5];case 8:return I=this.availableExtensions((i=r.event.integrations)!==null&&i!==void 0?i:{}),S=I.destinations,v=I.after,[4,new Promise(function(c,d){setTimeout(function(){var l=S.map(function(P){return we(r,P)});Promise.all(l).then(c).catch(d)},0)})];case 9:return s.sent(),r.stats.increment("message_delivered"),this.emit("message_delivered",r),h=v.map(function(c){return we(r,c)}),[4,Promise.all(h)];case 10:return s.sent(),[2,r]}})})},t}(ut),$r=function(e,t){var r=Date.now()-e;return Math.max((t??300)-r,0)};function Ur(e,t,r,n){return z(this,void 0,void 0,function(){var i,o;return K(this,function(a){switch(a.label){case 0:return r.emit("dispatch_start",e),i=Date.now(),t.isEmpty()?[4,t.dispatchSingle(e)]:[3,2];case 1:return o=a.sent(),[3,4];case 2:return[4,t.dispatch(e)];case 3:o=a.sent(),a.label=4;case 4:return n!=null&&n.callback?[4,Er(o,n.callback,$r(i,n.timeout))]:[3,6];case 5:o=a.sent(),a.label=6;case 6:return n!=null&&n.debug&&o.flush(),[2,o]}})})}function qr(e,t){return t=t||{},new Promise(function(r,n){var i=new XMLHttpRequest,o=[],a=[],u={},p=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:p,headers:{keys:function(){return o},entries:function(){return a},get:function(y){return u[y.toLowerCase()]},has:function(y){return y.toLowerCase()in u}}}};for(var f in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(y,m,b){o.push(m=m.toLowerCase()),a.push([m,b]),u[m]=u[m]?u[m]+","+b:b}),r(p())},i.onerror=n,i.withCredentials=t.credentials=="include",t.headers)i.setRequestHeader(f,t.headers[f]);i.send(t.body||null)})}var ft=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:null},dt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=ft();return(r&&r.fetch||qr).apply(void 0,e)},Ie="2.0.0";/*! js-cookie v3.0.1 | MIT */function xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}var zr={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Ze(e,t){function r(i,o,a){if(!(typeof document>"u")){a=xe({},t,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var u="";for(var p in a)a[p]&&(u+="; "+p,a[p]!==!0&&(u+="="+a[p].split(";")[0]));return document.cookie=i+"="+e.write(o,i)+u}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var o=document.cookie?document.cookie.split("; "):[],a={},u=0;u<o.length;u++){var p=o[u].split("="),f=p.slice(1).join("=");try{var y=decodeURIComponent(p[0]);if(a[y]=e.read(f,y),i===y)break}catch{}}return i?a[i]:a}}return Object.create({set:r,get:n,remove:function(i,o){r(i,"",xe({},o,{expires:-1}))},withAttributes:function(i){return Ze(this.converter,xe({},this.attributes,i))},withConverter:function(i){return Ze(xe({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var N=Ze(zr,{path:"/"});function Kr(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return e}}function Vr(e){var t=e.hostname,r=t.split("."),n=r[r.length-1],i=[];if(r.length===4&&parseInt(n,10)>0||r.length<=1)return i;for(var o=r.length-2;o>=0;--o)i.push(r.slice(o).join("."));return i}function Gr(e){try{return new URL(e)}catch{return}}function Jt(e){var t=Gr(e);if(t)for(var r=Vr(t),n=0;n<r.length;++n){var i="__tld__",o=r[n],a={domain:"."+o};try{if(N.set(i,"1",a),N.get(i))return N.remove(i,a),o}catch{return}}}function pt(e){for(var t=e.constructor.prototype,r=0,n=Object.getOwnPropertyNames(t);r<n.length;r++){var i=n[r];if(i!=="constructor"){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);o&&typeof o.value=="function"&&(e[i]=e[i].bind(e))}}return e}var ue={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},ht=function(){function e(){this.cache={}}return e.prototype.get=function(t){return this.cache[t]},e.prototype.set=function(t,r){this.cache[t]=r},e.prototype.remove=function(t){delete this.cache[t]},Object.defineProperty(e.prototype,"type",{get:function(){return"memory"},enumerable:!1,configurable:!0}),e}(),Jr=365,kt=function(e){J(t,e);function t(r){r===void 0&&(r=t.defaults);var n=e.call(this)||this;return n.options=w(w({},t.defaults),r),n}return t.available=function(){var r=window.navigator.cookieEnabled;return r||(N.set("ajs:cookies","test"),r=document.cookie.includes("ajs:cookies"),N.remove("ajs:cookies")),r},Object.defineProperty(t,"defaults",{get:function(){return{maxage:Jr,domain:Jt(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),t.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},t.prototype.get=function(r){try{var n=N.get(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}}catch{return null}},t.prototype.set=function(r,n){typeof n=="string"?N.set(r,n,this.opts()):n===null?N.remove(r,this.opts()):N.set(r,JSON.stringify(n),this.opts())},t.prototype.remove=function(r){return N.remove(r,this.opts())},Object.defineProperty(t.prototype,"type",{get:function(){return"cookie"},enumerable:!1,configurable:!0}),t}(ht),ze=function(e,t){console.warn("Unable to access ".concat(e,", localStorage may be ").concat(t))},Lt=function(e){J(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.available=function(){var r="test";try{return localStorage.setItem(r,r),localStorage.removeItem(r),!0}catch{return!1}},t.prototype.get=function(r){try{var n=localStorage.getItem(r);if(n===null)return null;try{return JSON.parse(n)}catch{return n}}catch{return ze(r,"unavailable"),null}},t.prototype.set=function(r,n){try{localStorage.setItem(r,JSON.stringify(n))}catch{ze(r,"full")}},t.prototype.remove=function(r){try{return localStorage.removeItem(r)}catch{ze(r,"unavailable")}},Object.defineProperty(t.prototype,"type",{get:function(){return"localStorage"},enumerable:!1,configurable:!0}),t}(ht),Se=function(){function e(t,r){this.storageOptions=r,this.enabledStores=t}return e.prototype.getStores=function(t){var r=this,n=[];return this.enabledStores.filter(function(i){return!t||(t==null?void 0:t.includes(i))}).forEach(function(i){var o=r.storageOptions[i];o!==void 0&&n.push(o)}),n},e.prototype.getAndSync=function(t,r){var n=this.get(t,r),i=typeof n=="number"?n.toString():n;return this.set(t,i,r),i},e.prototype.get=function(t,r){for(var n=null,i=0,o=this.getStores(r);i<o.length;i++){var a=o[i];if(n=a.get(t),n)return n}return null},e.prototype.set=function(t,r,n){for(var i=0,o=this.getStores(n);i<o.length;i++){var a=o[i];a.set(t,r)}},e.prototype.clear=function(t,r){for(var n=0,i=this.getStores(r);n<i.length;n++){var o=i[n];o.remove(t)}},e}();function vt(e){return{cookie:kt.available()?new kt(e):void 0,localStorage:Lt.available()?new Lt:void 0,memory:new ht}}var Qt=function(){function e(t,r){t===void 0&&(t=ue);var n=this,i,o,a,u;this.options={},this.id=function(g){if(n.options.disable)return null;var _=n.identityStore.getAndSync(n.idKey);if(g!==void 0){n.identityStore.set(n.idKey,g);var I=g!==_&&_!==null&&g!==null;I&&n.anonymousId(null)}var S=n.identityStore.getAndSync(n.idKey);if(S)return S;var v=n.legacyUserStore.get(ue.cookie.oldKey);return v?typeof v=="object"?v.id:v:null},this.anonymousId=function(g){var _,I;if(n.options.disable)return null;if(g===void 0){var S=(_=n.identityStore.getAndSync(n.anonKey))!==null&&_!==void 0?_:(I=n.legacySIO())===null||I===void 0?void 0:I[0];if(S)return S}return g===null?(n.identityStore.set(n.anonKey,null),n.identityStore.getAndSync(n.anonKey)):(n.identityStore.set(n.anonKey,g??lt()),n.identityStore.getAndSync(n.anonKey))},this.traits=function(g){var _;if(!n.options.disable)return g===null&&(g={}),g&&n.traitsStore.set(n.traitsKey,g??{}),(_=n.traitsStore.get(n.traitsKey))!==null&&_!==void 0?_:{}},this.options=t,this.cookieOptions=r,this.idKey=(o=(i=t.cookie)===null||i===void 0?void 0:i.key)!==null&&o!==void 0?o:ue.cookie.key,this.traitsKey=(u=(a=t.localStorage)===null||a===void 0?void 0:a.key)!==null&&u!==void 0?u:ue.localStorage.key,this.anonKey="ajs_anonymous_id";var p=t.disable===!0,f=t.persist!==!1,y=p?[]:f?["localStorage","cookie","memory"]:["memory"],m=vt(r);t.localStorageFallbackDisabled&&(y=y.filter(function(g){return g!=="localStorage"})),this.identityStore=new Se(y,m),this.legacyUserStore=new Se(y.filter(function(g){return g!=="localStorage"&&g!=="memory"}),m),this.traitsStore=new Se(y.filter(function(g){return g!=="cookie"}),m);var b=this.legacyUserStore.get(ue.cookie.oldKey);b&&typeof b=="object"&&(b.id&&this.id(b.id),b.traits&&this.traits(b.traits)),pt(this)}return e.prototype.legacySIO=function(){var t=this.legacyUserStore.get("_sio");if(!t)return null;var r=t.split("----"),n=r[0],i=r[1];return[n,i]},e.prototype.identify=function(t,r){if(!this.options.disable){r=r??{};var n=this.id();(n===null||n===t)&&(r=w(w({},this.traits()),r)),t&&this.id(t),this.traits(r)}},e.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},e.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},e.prototype.load=function(){return new e(this.options,this.cookieOptions)},e.prototype.save=function(){return!0},e.defaults=ue,e}(),Qr={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},Wr=function(e){J(t,e);function t(r,n){r===void 0&&(r=Qr);var i=e.call(this,r,n)||this;return i.anonymousId=function(o){},pt(i),i}return t}(Qt),be;function Hr(){if(be)return be;var e=Jt(window.location.href);return be={expires:31536e6,secure:!1,path:"/"},e&&(be.domain=e),be}var Xr="npm";function Yr(){return Xr}function Zr(){var e=N.get("_ga");if(e&&e.startsWith("amp"))return e}function en(e){return e.startsWith("?")&&(e=e.substring(1)),e=e.replace(/\?/g,"&"),e.split("&").reduce(function(t,r){var n=r.split("="),i=n[0],o=n[1],a=o===void 0?"":o;if(i.includes("utm_")&&i.length>4){var u=i.substr(4);u==="campaign"&&(u="name"),t[u]=Kr(a)}return t},{})}function tn(e){var t={btid:"dataxu",urid:"millennial-media"};e.startsWith("?")&&(e=e.substring(1)),e=e.replace(/\?/g,"&");for(var r=e.split("&"),n=0,i=r;n<i.length;n++){var o=i[n],a=o.split("="),u=a[0],p=a[1];if(t[u])return{id:p,type:t[u]}}}function rn(e,t,r){var n=new Se(r?[]:["cookie"],vt(Hr())),i=n.get("s:context.referrer"),o=tn(e);o=o??i,o&&(t&&(t.referrer=w(w({},t.referrer),o)),n.set("s:context.referrer",o))}function nn(e,t,r,n){var i,o,a,u,p=e.user(),f=window.location.search;t.context=(o=(i=t.context)!==null&&i!==void 0?i:t.options)!==null&&o!==void 0?o:{};var y=t.context;delete t.options,t.writeKey=r==null?void 0:r.apiKey,y.userAgent=window.navigator.userAgent;var m=navigator.userLanguage||navigator.language;if(typeof y.locale>"u"&&typeof m<"u"&&(y.locale=m),!y.library){var b=Yr();b==="web"?y.library={name:"analytics.js",version:"next-".concat(Ie)}:y.library={name:"analytics.js",version:"npm:next-".concat(Ie)}}f&&!y.campaign&&(y.campaign=en(f)),rn(f,y,(a=e.options.disableClientPersistence)!==null&&a!==void 0?a:!1),t.userId=t.userId||p.id(),t.anonymousId=t.anonymousId||p.anonymousId(),t.sentAt=new Date;var g=e.queue.failedInitializations||[];g.length>0&&(t._metadata={failedInitializations:g});var _=[],I=[];for(var S in n){var v=n[S];S==="june.so"&&_.push(S),v.bundlingStatus==="bundled"&&_.push(S),v.bundlingStatus==="unbundled"&&I.push(S)}for(var h=0,s=(r==null?void 0:r.unbundledIntegrations)||[];h<s.length;h++){var c=s[h];I.includes(c)||I.push(c)}var d=(u=r==null?void 0:r.maybeBundledConfigIds)!==null&&u!==void 0?u:{},l=[];_.sort().forEach(function(x){var M;((M=d[x])!==null&&M!==void 0?M:[]).forEach(function(U){l.push(U)})}),(r==null?void 0:r.addBundledMetadata)!==!1&&(t._metadata=w(w({},t._metadata),{bundled:_.sort(),unbundled:I.sort(),bundledIds:l}));var P=Zr();return P&&(y.amp={id:P}),t}var on=function(e,t,r){var n=t.reduce(function(i,o){var a=o.split(":"),u=a[0],p=a[1];return i[u]=p,i},{});return{type:"Counter",metric:e,value:1,tags:w(w({},n),{library:"analytics.js",library_version:"npm:next-".concat(Ie)})}};function Ke(e){console.error("Error sending segment performance metrics",e)}var an=function(){function e(t){var r=this,n,i,o,a;if(this.host=(n=t==null?void 0:t.host)!==null&&n!==void 0?n:"api.june.so/sdk",this.sampleRate=(i=t==null?void 0:t.sampleRate)!==null&&i!==void 0?i:1,this.flushTimer=(o=t==null?void 0:t.flushTimer)!==null&&o!==void 0?o:30*1e3,this.maxQueueSize=(a=t==null?void 0:t.maxQueueSize)!==null&&a!==void 0?a:20,this.queue=[],this.sampleRate>0){var u=!1,p=function(){u||(u=!0,r.flush().catch(Ke),u=!1,setTimeout(p,r.flushTimer))};p()}}return e.prototype.increment=function(t,r){if(t.includes("analytics_js.")&&r.length!==0&&!(Math.random()>this.sampleRate)&&!(this.queue.length>=this.maxQueueSize)){var n=on(t,r);this.queue.push(n),t.includes("error")&&this.flush().catch(Ke)}},e.prototype.flush=function(){return O(this,void 0,void 0,function(){var t=this;return A(this,function(r){switch(r.label){case 0:return this.queue.length<=0?[2]:[4,this.send().catch(function(n){Ke(n),t.sampleRate=0})];case 1:return r.sent(),[2]}})})},e.prototype.send=function(){return O(this,void 0,void 0,function(){var t,r,n;return A(this,function(i){return t={series:this.queue},this.queue=[],r={"Content-Type":"text/plain"},n="https://".concat(this.host,"/m"),[2,dt(n,{headers:r,body:JSON.stringify(t),method:"POST"})]})})},e}(),je,Wt=function(e){J(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.initRemoteMetrics=function(r){je=new an(r)},t.prototype.increment=function(r,n,i){e.prototype.increment.call(this,r,n,i),je==null||je.increment(r,i??[])},t}(Gt),fe=function(e){J(t,e);function t(r,n){return e.call(this,r,n,new Wt)||this}return t.system=function(){return new this({type:"track",event:"system"})},t}(Fe),Ht={exports:{}};(function(e,t){(function(r){e.exports=r()})(function(r){var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function i(v,h){var s=v[0],c=v[1],d=v[2],l=v[3];s+=(c&d|~c&l)+h[0]-680876936|0,s=(s<<7|s>>>25)+c|0,l+=(s&c|~s&d)+h[1]-389564586|0,l=(l<<12|l>>>20)+s|0,d+=(l&s|~l&c)+h[2]+606105819|0,d=(d<<17|d>>>15)+l|0,c+=(d&l|~d&s)+h[3]-1044525330|0,c=(c<<22|c>>>10)+d|0,s+=(c&d|~c&l)+h[4]-176418897|0,s=(s<<7|s>>>25)+c|0,l+=(s&c|~s&d)+h[5]+1200080426|0,l=(l<<12|l>>>20)+s|0,d+=(l&s|~l&c)+h[6]-1473231341|0,d=(d<<17|d>>>15)+l|0,c+=(d&l|~d&s)+h[7]-45705983|0,c=(c<<22|c>>>10)+d|0,s+=(c&d|~c&l)+h[8]+1770035416|0,s=(s<<7|s>>>25)+c|0,l+=(s&c|~s&d)+h[9]-1958414417|0,l=(l<<12|l>>>20)+s|0,d+=(l&s|~l&c)+h[10]-42063|0,d=(d<<17|d>>>15)+l|0,c+=(d&l|~d&s)+h[11]-1990404162|0,c=(c<<22|c>>>10)+d|0,s+=(c&d|~c&l)+h[12]+1804603682|0,s=(s<<7|s>>>25)+c|0,l+=(s&c|~s&d)+h[13]-40341101|0,l=(l<<12|l>>>20)+s|0,d+=(l&s|~l&c)+h[14]-1502002290|0,d=(d<<17|d>>>15)+l|0,c+=(d&l|~d&s)+h[15]+1236535329|0,c=(c<<22|c>>>10)+d|0,s+=(c&l|d&~l)+h[1]-165796510|0,s=(s<<5|s>>>27)+c|0,l+=(s&d|c&~d)+h[6]-1069501632|0,l=(l<<9|l>>>23)+s|0,d+=(l&c|s&~c)+h[11]+643717713|0,d=(d<<14|d>>>18)+l|0,c+=(d&s|l&~s)+h[0]-373897302|0,c=(c<<20|c>>>12)+d|0,s+=(c&l|d&~l)+h[5]-701558691|0,s=(s<<5|s>>>27)+c|0,l+=(s&d|c&~d)+h[10]+38016083|0,l=(l<<9|l>>>23)+s|0,d+=(l&c|s&~c)+h[15]-660478335|0,d=(d<<14|d>>>18)+l|0,c+=(d&s|l&~s)+h[4]-405537848|0,c=(c<<20|c>>>12)+d|0,s+=(c&l|d&~l)+h[9]+568446438|0,s=(s<<5|s>>>27)+c|0,l+=(s&d|c&~d)+h[14]-1019803690|0,l=(l<<9|l>>>23)+s|0,d+=(l&c|s&~c)+h[3]-187363961|0,d=(d<<14|d>>>18)+l|0,c+=(d&s|l&~s)+h[8]+1163531501|0,c=(c<<20|c>>>12)+d|0,s+=(c&l|d&~l)+h[13]-1444681467|0,s=(s<<5|s>>>27)+c|0,l+=(s&d|c&~d)+h[2]-51403784|0,l=(l<<9|l>>>23)+s|0,d+=(l&c|s&~c)+h[7]+1735328473|0,d=(d<<14|d>>>18)+l|0,c+=(d&s|l&~s)+h[12]-1926607734|0,c=(c<<20|c>>>12)+d|0,s+=(c^d^l)+h[5]-378558|0,s=(s<<4|s>>>28)+c|0,l+=(s^c^d)+h[8]-2022574463|0,l=(l<<11|l>>>21)+s|0,d+=(l^s^c)+h[11]+1839030562|0,d=(d<<16|d>>>16)+l|0,c+=(d^l^s)+h[14]-35309556|0,c=(c<<23|c>>>9)+d|0,s+=(c^d^l)+h[1]-1530992060|0,s=(s<<4|s>>>28)+c|0,l+=(s^c^d)+h[4]+1272893353|0,l=(l<<11|l>>>21)+s|0,d+=(l^s^c)+h[7]-155497632|0,d=(d<<16|d>>>16)+l|0,c+=(d^l^s)+h[10]-1094730640|0,c=(c<<23|c>>>9)+d|0,s+=(c^d^l)+h[13]+681279174|0,s=(s<<4|s>>>28)+c|0,l+=(s^c^d)+h[0]-358537222|0,l=(l<<11|l>>>21)+s|0,d+=(l^s^c)+h[3]-722521979|0,d=(d<<16|d>>>16)+l|0,c+=(d^l^s)+h[6]+76029189|0,c=(c<<23|c>>>9)+d|0,s+=(c^d^l)+h[9]-640364487|0,s=(s<<4|s>>>28)+c|0,l+=(s^c^d)+h[12]-421815835|0,l=(l<<11|l>>>21)+s|0,d+=(l^s^c)+h[15]+530742520|0,d=(d<<16|d>>>16)+l|0,c+=(d^l^s)+h[2]-995338651|0,c=(c<<23|c>>>9)+d|0,s+=(d^(c|~l))+h[0]-198630844|0,s=(s<<6|s>>>26)+c|0,l+=(c^(s|~d))+h[7]+1126891415|0,l=(l<<10|l>>>22)+s|0,d+=(s^(l|~c))+h[14]-1416354905|0,d=(d<<15|d>>>17)+l|0,c+=(l^(d|~s))+h[5]-57434055|0,c=(c<<21|c>>>11)+d|0,s+=(d^(c|~l))+h[12]+1700485571|0,s=(s<<6|s>>>26)+c|0,l+=(c^(s|~d))+h[3]-1894986606|0,l=(l<<10|l>>>22)+s|0,d+=(s^(l|~c))+h[10]-1051523|0,d=(d<<15|d>>>17)+l|0,c+=(l^(d|~s))+h[1]-2054922799|0,c=(c<<21|c>>>11)+d|0,s+=(d^(c|~l))+h[8]+1873313359|0,s=(s<<6|s>>>26)+c|0,l+=(c^(s|~d))+h[15]-30611744|0,l=(l<<10|l>>>22)+s|0,d+=(s^(l|~c))+h[6]-1560198380|0,d=(d<<15|d>>>17)+l|0,c+=(l^(d|~s))+h[13]+1309151649|0,c=(c<<21|c>>>11)+d|0,s+=(d^(c|~l))+h[4]-145523070|0,s=(s<<6|s>>>26)+c|0,l+=(c^(s|~d))+h[11]-1120210379|0,l=(l<<10|l>>>22)+s|0,d+=(s^(l|~c))+h[2]+718787259|0,d=(d<<15|d>>>17)+l|0,c+=(l^(d|~s))+h[9]-343485551|0,c=(c<<21|c>>>11)+d|0,v[0]=s+v[0]|0,v[1]=c+v[1]|0,v[2]=d+v[2]|0,v[3]=l+v[3]|0}function o(v){var h=[],s;for(s=0;s<64;s+=4)h[s>>2]=v.charCodeAt(s)+(v.charCodeAt(s+1)<<8)+(v.charCodeAt(s+2)<<16)+(v.charCodeAt(s+3)<<24);return h}function a(v){var h=[],s;for(s=0;s<64;s+=4)h[s>>2]=v[s]+(v[s+1]<<8)+(v[s+2]<<16)+(v[s+3]<<24);return h}function u(v){var h=v.length,s=[1732584193,-271733879,-1732584194,271733878],c,d,l,P,x,M;for(c=64;c<=h;c+=64)i(s,o(v.substring(c-64,c)));for(v=v.substring(c-64),d=v.length,l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c=0;c<d;c+=1)l[c>>2]|=v.charCodeAt(c)<<(c%4<<3);if(l[c>>2]|=128<<(c%4<<3),c>55)for(i(s,l),c=0;c<16;c+=1)l[c]=0;return P=h*8,P=P.toString(16).match(/(.*?)(.{0,8})$/),x=parseInt(P[2],16),M=parseInt(P[1],16)||0,l[14]=x,l[15]=M,i(s,l),s}function p(v){var h=v.length,s=[1732584193,-271733879,-1732584194,271733878],c,d,l,P,x,M;for(c=64;c<=h;c+=64)i(s,a(v.subarray(c-64,c)));for(v=c-64<h?v.subarray(c-64):new Uint8Array(0),d=v.length,l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c=0;c<d;c+=1)l[c>>2]|=v[c]<<(c%4<<3);if(l[c>>2]|=128<<(c%4<<3),c>55)for(i(s,l),c=0;c<16;c+=1)l[c]=0;return P=h*8,P=P.toString(16).match(/(.*?)(.{0,8})$/),x=parseInt(P[2],16),M=parseInt(P[1],16)||0,l[14]=x,l[15]=M,i(s,l),s}function f(v){var h="",s;for(s=0;s<4;s+=1)h+=n[v>>s*8+4&15]+n[v>>s*8&15];return h}function y(v){var h;for(h=0;h<v.length;h+=1)v[h]=f(v[h]);return v.join("")}y(u("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function v(h,s){return h=h|0||0,h<0?Math.max(h+s,0):Math.min(h,s)}ArrayBuffer.prototype.slice=function(h,s){var c=this.byteLength,d=v(h,c),l=c,P,x,M,U;return s!==r&&(l=v(s,c)),d>l?new ArrayBuffer(0):(P=l-d,x=new ArrayBuffer(P),M=new Uint8Array(x),U=new Uint8Array(this,d,P),M.set(U),x)}}();function m(v){return/[\u0080-\uFFFF]/.test(v)&&(v=unescape(encodeURIComponent(v))),v}function b(v,h){var s=v.length,c=new ArrayBuffer(s),d=new Uint8Array(c),l;for(l=0;l<s;l+=1)d[l]=v.charCodeAt(l);return h?d:c}function g(v){return String.fromCharCode.apply(null,new Uint8Array(v))}function _(v,h,s){var c=new Uint8Array(v.byteLength+h.byteLength);return c.set(new Uint8Array(v)),c.set(new Uint8Array(h),v.byteLength),c}function I(v){var h=[],s=v.length,c;for(c=0;c<s-1;c+=2)h.push(parseInt(v.substr(c,2),16));return String.fromCharCode.apply(String,h)}function S(){this.reset()}return S.prototype.append=function(v){return this.appendBinary(m(v)),this},S.prototype.appendBinary=function(v){this._buff+=v,this._length+=v.length;var h=this._buff.length,s;for(s=64;s<=h;s+=64)i(this._hash,o(this._buff.substring(s-64,s)));return this._buff=this._buff.substring(s-64),this},S.prototype.end=function(v){var h=this._buff,s=h.length,c,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l;for(c=0;c<s;c+=1)d[c>>2]|=h.charCodeAt(c)<<(c%4<<3);return this._finish(d,s),l=y(this._hash),v&&(l=I(l)),this.reset(),l},S.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},S.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},S.prototype.setState=function(v){return this._buff=v.buff,this._length=v.length,this._hash=v.hash,this},S.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},S.prototype._finish=function(v,h){var s=h,c,d,l;if(v[s>>2]|=128<<(s%4<<3),s>55)for(i(this._hash,v),s=0;s<16;s+=1)v[s]=0;c=this._length*8,c=c.toString(16).match(/(.*?)(.{0,8})$/),d=parseInt(c[2],16),l=parseInt(c[1],16)||0,v[14]=d,v[15]=l,i(this._hash,v)},S.hash=function(v,h){return S.hashBinary(m(v),h)},S.hashBinary=function(v,h){var s=u(v),c=y(s);return h?I(c):c},S.ArrayBuffer=function(){this.reset()},S.ArrayBuffer.prototype.append=function(v){var h=_(this._buff.buffer,v),s=h.length,c;for(this._length+=v.byteLength,c=64;c<=s;c+=64)i(this._hash,a(h.subarray(c-64,c)));return this._buff=c-64<s?new Uint8Array(h.buffer.slice(c-64)):new Uint8Array(0),this},S.ArrayBuffer.prototype.end=function(v){var h=this._buff,s=h.length,c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d,l;for(d=0;d<s;d+=1)c[d>>2]|=h[d]<<(d%4<<3);return this._finish(c,s),l=y(this._hash),v&&(l=I(l)),this.reset(),l},S.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},S.ArrayBuffer.prototype.getState=function(){var v=S.prototype.getState.call(this);return v.buff=g(v.buff),v},S.ArrayBuffer.prototype.setState=function(v){return v.buff=b(v.buff,!0),S.prototype.setState.call(this,v)},S.ArrayBuffer.prototype.destroy=S.prototype.destroy,S.ArrayBuffer.prototype._finish=S.prototype._finish,S.ArrayBuffer.hash=function(v,h){var s=p(new Uint8Array(v)),c=y(s);return h?I(c):c},S})})(Ht);var un=Ht.exports;const sn=gr(un);var cn=function(){function e(t){this.user=t}return e.prototype.track=function(t,r,n,i){return this.normalize(w(w({},this.baseEvent()),{event:t,type:"track",properties:r,options:w({},n),integrations:w({},i)}))},e.prototype.page=function(t,r,n,i,o){var a,u={type:"page",properties:w({},n),options:w({},i),integrations:w({},o)};return t!==null&&(u.category=t,u.properties=(a=u.properties)!==null&&a!==void 0?a:{},u.properties.category=t),r!==null&&(u.name=r),this.normalize(w(w({},this.baseEvent()),u))},e.prototype.screen=function(t,r,n,i,o){var a={type:"screen",properties:w({},n),options:w({},i),integrations:w({},o)};return t!==null&&(a.category=t),r!==null&&(a.name=r),this.normalize(w(w({},this.baseEvent()),a))},e.prototype.identify=function(t,r,n,i){return this.normalize(w(w({},this.baseEvent()),{type:"identify",userId:t,traits:r,options:w({},n),integrations:w({},i)}))},e.prototype.group=function(t,r,n,i){return this.normalize(w(w({},this.baseEvent()),{type:"group",traits:r,options:w({},n),integrations:w({},i),groupId:t}))},e.prototype.alias=function(t,r,n,i){var o={userId:t,type:"alias",options:w({},n),integrations:w({},i)};return r!==null&&(o.previousId=r),t===void 0?this.normalize(w(w({},o),this.baseEvent())):this.normalize(w(w({},this.baseEvent()),o))},e.prototype.baseEvent=function(){var t={integrations:{},options:{}},r=this.user;return r.id()&&(t.userId=r.id()),r.anonymousId()&&(t.anonymousId=r.anonymousId()),t},e.prototype.context=function(t){var r,n,i,o=["integrations","anonymousId","timestamp","userId"],a=(r=t.options)!==null&&r!==void 0?r:{};delete a.integrations;var u=Object.keys(a),p=(i=(n=t.options)===null||n===void 0?void 0:n.context)!==null&&i!==void 0?i:{},f={};return u.forEach(function(y){y!=="context"&&(o.includes(y)?Ye(f,y,a[y]):Ye(p,y,a[y]))}),[p,f]},e.prototype.normalize=function(t){var r,n,i;!((r=t.options)===null||r===void 0)&&r.anonymousId&&this.user.anonymousId(t.options.anonymousId);var o=Object.keys((n=t.integrations)!==null&&n!==void 0?n:{}).reduce(function(_,I){var S,v;return w(w({},_),(S={},S[I]=!!(!((v=t.integrations)===null||v===void 0)&&v[I]),S))},{}),a=w(w({},o),(i=t.options)===null||i===void 0?void 0:i.integrations),u=this.context(t),p=u[0],f=u[1];t.options;var y=mr(t,["options"]),m=w(w(w({timestamp:new Date},y),{context:p,integrations:a}),f),b="ajs-next-"+sn.hash(JSON.stringify(m)+lt()),g=w(w({},m),{messageId:b});return g},e}(),G={getItem:function(){},setItem:function(){},removeItem:function(){}};try{G=at()&&window.localStorage?window.localStorage:G}catch(e){console.warn("Unable to access localStorage",e)}function Xt(e){var t=G.getItem(e);return(t?JSON.parse(t):[]).map(function(r){return new fe(r.event,r.id)})}function ln(e,t){var r=Xt(e),n=k(k([],t,!0),r,!0),i=n.reduce(function(o,a){var u;return w(w({},o),(u={},u[a.id]=a,u))},{});G.setItem(e,JSON.stringify(Object.values(i)))}function Yt(e){var t=G.getItem(e);return t?JSON.parse(t):{}}function fn(e,t){var r=Yt(e);G.setItem(e,JSON.stringify(w(w({},r),t)))}function Nt(e){G.removeItem(e)}var dn=function(){return new Date().getTime()};function et(e,t,r){r===void 0&&(r=0);var n=50,i="persisted-queue:v1:".concat(e,":lock"),o=function(f){return new Date().getTime()>f},a=G.getItem(i),u=a?JSON.parse(a):null,p=u===null||o(u);if(p){G.setItem(i,JSON.stringify(dn()+n)),t(),G.removeItem(i);return}!p&&r<3?setTimeout(function(){et(e,t,r+1)},n):console.error("Unable to retrieve lock")}var yt=function(e){J(t,e);function t(r,n){var i=e.call(this,r,[])||this,o="persisted-queue:v1:".concat(n,":items"),a="persisted-queue:v1:".concat(n,":seen"),u=[],p={};return et(n,function(){try{u=Xt(o),p=Yt(a),Nt(o),Nt(a),i.queue=k(k([],u,!0),i.queue,!0),i.seen=w(w({},p),i.seen)}catch(f){console.error(f)}}),window.addEventListener("pagehide",function(){if(i.todo>0){var f=k(k([],i.queue,!0),i.future,!0);try{et(n,function(){ln(o,f),fn(a,i.seen)})}catch(y){console.error(y)}}}),i}return t}(ct),pn=function(e){J(t,e);function t(r){return e.call(this,r??new yt(4,"event-queue"))||this}return t}(Br),X="This is being deprecated and will be not be available in future releases of Analytics JS",Ve=ft(),Ge=Ve==null?void 0:Ve.analytics;function hn(e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=e?4:1,n=t?new ct(r,[]):new yt(r,"event-queue");return new pn(n)}function q(){console.warn(X)}var vn=function(e){J(t,e);function t(r,n,i,o,a){var u=this,p,f,y;u=e.call(this)||this,u._debug=!1,u.initialized=!1,u.user=function(){return u._user},u.init=u.initialize.bind(u),u.log=q,u.addIntegrationMiddleware=q,u.listeners=q,u.addEventListener=q,u.removeAllListeners=q,u.removeListener=q,u.removeEventListener=q,u.hasListeners=q,u.add=q,u.addIntegration=q;var m=n==null?void 0:n.cookie,b=(p=n==null?void 0:n.disableClientPersistence)!==null&&p!==void 0?p:!1;return u.settings=r,u.settings.timeout=(f=u.settings.timeout)!==null&&f!==void 0?f:300,u.queue=i??hn(n==null?void 0:n.retryQueue,b),u._universalStorage=new Se(b?["memory"]:["localStorage","cookie","memory"],vt(m)),u._user=o??new Qt(b?w(w({},n==null?void 0:n.user),{persist:!1}):n==null?void 0:n.user,m).load(),u._group=a??new Wr(b?w(w({},n==null?void 0:n.group),{persist:!1}):n==null?void 0:n.group,m).load(),u.eventFactory=new cn(u._user),u.integrations=(y=n==null?void 0:n.integrations)!==null&&y!==void 0?y:{},u.options=n??{},pt(u),u}return Object.defineProperty(t.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),t.prototype.track=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return O(this,void 0,void 0,function(){var i,o,a,u,p,f,y=this;return A(this,function(m){return i=wr.apply(void 0,r),o=i[0],a=i[1],u=i[2],p=i[3],f=this.eventFactory.track(o,a,u,this.integrations),[2,this._dispatch(f,p).then(function(b){return y.emit("track",o,b.event.properties,b.event.options),b})]})})},t.prototype.page=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return O(this,void 0,void 0,function(){var i,o,a,u,p,f,y,m=this;return A(this,function(b){return i=Ct.apply(void 0,r),o=i[0],a=i[1],u=i[2],p=i[3],f=i[4],y=this.eventFactory.page(o,a,u,p,this.integrations),[2,this._dispatch(y,f).then(function(g){return m.emit("page",o,a,g.event.properties,g.event.options),g})]})})},t.prototype.identify=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return O(this,void 0,void 0,function(){var i,o,a,u,p,f,y=this;return A(this,function(m){return i=Ft(this._user).apply(void 0,r),o=i[0],a=i[1],u=i[2],p=i[3],this._user.identify(o,a),f=this.eventFactory.identify(this._user.id(),this._user.traits(),u,this.integrations),[2,this._dispatch(f,p).then(function(b){return y.emit("identify",b.event.userId,b.event.traits,b.event.options),b})]})})},t.prototype.group=function(){for(var r=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(n.length===0)return this._group;var o=Ft(this._group).apply(void 0,n),a=o[0],u=o[1],p=o[2],f=o[3];this._group.identify(a,u);var y=this._group.id(),m=this._group.traits(),b=this.eventFactory.group(y,m,p,this.integrations);return this._dispatch(b,f).then(function(g){return r.emit("group",g.event.groupId,g.event.traits,g.event.options),g})},t.prototype.alias=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return O(this,void 0,void 0,function(){var i,o,a,u,p,f,y=this;return A(this,function(m){return i=Sr.apply(void 0,r),o=i[0],a=i[1],u=i[2],p=i[3],f=this.eventFactory.alias(o,a,u,this.integrations),[2,this._dispatch(f,p).then(function(b){return y.emit("alias",o,a,b.event.options),b})]})})},t.prototype.screen=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return O(this,void 0,void 0,function(){var i,o,a,u,p,f,y,m=this;return A(this,function(b){return i=Ct.apply(void 0,r),o=i[0],a=i[1],u=i[2],p=i[3],f=i[4],y=this.eventFactory.screen(o,a,u,p,this.integrations),[2,this._dispatch(y,f).then(function(g){return m.emit("screen",o,a,g.event.properties,g.event.options),g})]})})},t.prototype.trackClick=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return O(this,void 0,void 0,function(){var i,o;return A(this,function(a){switch(a.label){case 0:return[4,R(()=>import("./auto-track-4i-lyWdr.js"),__vite__mapDeps([0,1,2,3,4]))];case 1:return i=a.sent(),[2,(o=i.link).call.apply(o,k([this],r,!1))]}})})},t.prototype.trackLink=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return O(this,void 0,void 0,function(){var i,o;return A(this,function(a){switch(a.label){case 0:return[4,R(()=>import("./auto-track-4i-lyWdr.js"),__vite__mapDeps([0,1,2,3,4]))];case 1:return i=a.sent(),[2,(o=i.link).call.apply(o,k([this],r,!1))]}})})},t.prototype.trackSubmit=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return O(this,void 0,void 0,function(){var i,o;return A(this,function(a){switch(a.label){case 0:return[4,R(()=>import("./auto-track-4i-lyWdr.js"),__vite__mapDeps([0,1,2,3,4]))];case 1:return i=a.sent(),[2,(o=i.form).call.apply(o,k([this],r,!1))]}})})},t.prototype.trackForm=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return O(this,void 0,void 0,function(){var i,o;return A(this,function(a){switch(a.label){case 0:return[4,R(()=>import("./auto-track-4i-lyWdr.js"),__vite__mapDeps([0,1,2,3,4]))];case 1:return i=a.sent(),[2,(o=i.form).call.apply(o,k([this],r,!1))]}})})},t.prototype.register=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return O(this,void 0,void 0,function(){var i,o,a=this;return A(this,function(u){switch(u.label){case 0:return i=fe.system(),o=r.map(function(p){return a.queue.register(i,p,a)}),[4,Promise.all(o)];case 1:return u.sent(),[2,i]}})})},t.prototype.deregister=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return O(this,void 0,void 0,function(){var i,o,a=this;return A(this,function(u){switch(u.label){case 0:return i=fe.system(),o=r.map(function(p){var f=a.queue.plugins.find(function(y){return y.name===p});if(f)return a.queue.deregister(i,f,a);i.log("warn","plugin ".concat(p," not found"))}),[4,Promise.all(o)];case 1:return u.sent(),[2,i]}})})},t.prototype.debug=function(r){return r===!1&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=r,this},t.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},t.prototype.timeout=function(r){this.settings.timeout=r},t.prototype._dispatch=function(r,n){return O(this,void 0,void 0,function(){var i;return A(this,function(o){return i=new fe(r),Ce()&&!this.options.retryQueue?[2,i]:[2,Ur(i,this.queue,this,{callback:n,debug:this._debug,timeout:this.settings.timeout})]})})},t.prototype.addSourceMiddleware=function(r){return O(this,void 0,void 0,function(){var n=this;return A(this,function(i){switch(i.label){case 0:return[4,this.queue.criticalTasks.run(function(){return O(n,void 0,void 0,function(){var o,a,u;return A(this,function(p){switch(p.label){case 0:return[4,R(()=>Promise.resolve().then(()=>li),void 0)];case 1:return o=p.sent().sourceMiddlewarePlugin,a={},this.queue.plugins.forEach(function(f){if(f.type==="destination")return a[f.name]=!0}),u=o(r,a),[4,this.register(u)];case 2:return p.sent(),[2]}})})})];case 1:return i.sent(),[2,this]}})})},t.prototype.addDestinationMiddleware=function(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.queue.plugins.filter(function(a){return a.name.toLowerCase()===r.toLowerCase()});return o.forEach(function(a){a.addMiddleware.apply(a,n)}),Promise.resolve(this)},t.prototype.setAnonymousId=function(r){return this._user.anonymousId(r)},t.prototype.queryString=function(r){return O(this,void 0,void 0,function(){var n;return A(this,function(i){switch(i.label){case 0:return this.options.useQueryString===!1?[2,[]]:[4,R(()=>import("./index-BAIusSSO.js"),__vite__mapDeps([5,6,1,2,3,4]))];case 1:return n=i.sent().queryString,[2,n(this,r)]}})})},t.prototype.use=function(r){return r(this),this},t.prototype.ready=function(r){return r===void 0&&(r=function(n){return n}),O(this,void 0,void 0,function(){return A(this,function(n){return[2,Promise.all(this.queue.plugins.map(function(i){return i.ready?i.ready():Promise.resolve()})).then(function(i){return r(i),i})]})})},t.prototype.noConflict=function(){return console.warn(X),window.analytics=Ge??this,this},t.prototype.normalize=function(r){return console.warn(X),this.eventFactory.normalize(r)},Object.defineProperty(t.prototype,"failedInitializations",{get:function(){return console.warn(X),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"VERSION",{get:function(){return Ie},enumerable:!1,configurable:!0}),t.prototype.initialize=function(r,n){return O(this,void 0,void 0,function(){return A(this,function(i){return console.warn(X),[2,Promise.resolve(this)]})})},t.prototype.pageview=function(r){return O(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return console.warn(X),[4,this.page({path:r})];case 1:return n.sent(),[2,this]}})})},Object.defineProperty(t.prototype,"plugins",{get:function(){var r;return console.warn(X),(r=this._plugins)!==null&&r!==void 0?r:{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Integrations",{get:function(){console.warn(X);var r=this.queue.plugins.filter(function(n){return n.type==="destination"}).reduce(function(n,i){var o="".concat(i.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),a=window[o];if(!a)return n;var u=a.Integration;return u?(n[i.name]=u,n):(n[i.name]=a,n)},{});return r},enumerable:!1,configurable:!0}),t.prototype.push=function(r){var n=this,i=r.shift();i&&!n[i]||n[i].apply(this,r)},t}(ut),Rt={};function Zt(){return typeof process>"u"||!Rt?{}:Rt}var yn=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,gn=function(){var e,t=Array.prototype.slice.call(document.querySelectorAll("script"));return t.forEach(function(r){var n,i=(n=r.getAttribute("src"))!==null&&n!==void 0?n:"",o=yn.exec(i);o&&o[1]&&(e=o[1])}),e},Me,mn=function(){var e,t=Me??((e=window.analytics)===null||e===void 0?void 0:e._cdn);return t},bn=function(e){window.analytics&&(window.analytics._cdn=e),Me=e},gt=function(){var e=mn();if(e)return e;var t=gn();return t||"https://cdn.june.so"},Hi=function(){var e=gt();return"".concat(e,"/next-integrations")};function _n(e,t){var r,n=Object.entries((r=t.integrations)!==null&&r!==void 0?r:{}).reduce(function(i,o){var a,u,p=o[0],f=o[1];return typeof f=="object"?w(w({},i),(a={},a[p]=f,a)):w(w({},i),(u={},u[p]={},u))},{});return Object.entries(e.integrations).reduce(function(i,o){var a,u=o[0],p=o[1];return w(w({},i),(a={},a[u]=w(w({},p),n[u]),a))},{})}var wn=function(){var e,t,r=new Promise(function(n,i){e=n,t=i});return{resolve:e,reject:t,promise:r}};function er(){var e=document.getElementsByTagName("link"),t="";return Array.prototype.slice.call(e).forEach(function(r){r.getAttribute("rel")==="canonical"&&(t=r.getAttribute("href"))}),t}function Sn(){var e=er();if(!e)return window.location.pathname;var t=document.createElement("a");t.href=e;var r=t.pathname.startsWith("/")?t.pathname:"/"+t.pathname;return r}function In(e){e===void 0&&(e="");var t=er();if(t)return t.includes("?")?t:"".concat(t).concat(e);var r=window.location.href,n=r.indexOf("#");return n===-1?r:r.slice(0,n)}function tr(){return{path:Sn(),referrer:document.referrer,search:location.search,title:document.title,url:In(location.search)}}function _e(e){var t,r=e.event;r.context=r.context||{};var n=tr(),i=(t=r.properties)!==null&&t!==void 0?t:{};return Object.keys(n).forEach(function(o){i[o]&&(n[o]=i[o])}),r.context.page&&(n=Object.assign({},n,r.context.page)),r.context=Object.assign({},r.context,{page:n}),e.event=r,e}var On={name:"Page Enrichment",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},type:"before",page:function(e){return e.event.properties=Object.assign({},tr(),e.event.properties),e.event.name&&(e.event.properties.name=e.event.name),_e(e)},alias:_e,track:_e,identify:_e,group:_e};function rr(e){var t=Array.prototype.slice.call(window.document.querySelectorAll("script"));return t.find(function(r){return r.src===e})}function Je(e,t){var r=rr(e);if(r!==void 0){var n=r==null?void 0:r.getAttribute("status");if(n==="loaded")return Promise.resolve(r);if(n==="loading")return new Promise(function(i,o){r.addEventListener("load",function(){return i(r)}),r.addEventListener("error",function(a){return o(a)})})}return new Promise(function(i,o){var a,u=window.document.createElement("script");u.type="text/javascript",u.src=e,u.async=!0,u.setAttribute("status","loading");for(var p=0,f=Object.entries({});p<f.length;p++){var y=f[p],m=y[0],b=y[1];u.setAttribute(m,b)}u.onload=function(){u.onerror=u.onload=null,u.setAttribute("status","loaded"),i(u)},u.onerror=function(){u.onerror=u.onload=null,u.setAttribute("status","error"),o(new Error("Failed to load ".concat(e)))};var g=window.document.getElementsByTagName("script")[0];(a=g.parentElement)===null||a===void 0||a.insertBefore(u,g)})}function Xi(e){var t=rr(e);return t!==void 0&&t.remove(),Promise.resolve()}var Y={},Q={},mt={},nr={exports:{}};(function(e){e.exports=t(r),e.exports.find=e.exports,e.exports.replace=function(u,p,f,y){return t(i).call(this,u,p,f,y),u},e.exports.del=function(u,p,f){return t(n).call(this,u,p,null,f),u};function t(u){return function(p,f,y,m){var b=m&&a(m.normalizer)?m.normalizer:o;f=b(f);for(var g,_=!1;!_;)I();function I(){for(g in p){var S=b(g);if(f.indexOf(S)===0){var v=f.substr(S.length);if(v.charAt(0)==="."||v.length===0){f=v.substr(1);var h=p[g];if(h==null){_=!0;return}if(!f.length){_=!0;return}p=h;return}}}g=void 0,_=!0}if(g)return p==null?p:u(p,g,y)}}function r(u,p){if(u.hasOwnProperty(p))return u[p]}function n(u,p){return u.hasOwnProperty(p)&&delete u[p],u}function i(u,p,f){return u.hasOwnProperty(p)&&(u[p]=f),u}function o(u){return u.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}function a(u){return typeof u=="function"}})(nr);var ke=nr.exports,An=C&&C.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mt,"__esModule",{value:!0});var H=An(ke);function se(e,t){return function(){var r=this.traits(),n=this.properties?this.properties():{};return H.default(r,"address."+e)||H.default(r,e)||(t?H.default(r,"address."+t):null)||(t?H.default(r,t):null)||H.default(n,"address."+e)||H.default(n,e)||(t?H.default(n,"address."+t):null)||(t?H.default(n,t):null)}}function En(e){e.zip=se("postalCode","zip"),e.country=se("country"),e.street=se("street"),e.state=se("state"),e.city=se("city"),e.region=se("region")}mt.default=En;var Le={};Object.defineProperty(Le,"__esModule",{value:!0});Le.clone=void 0;function tt(e){if(typeof e!="object")return e;if(Object.prototype.toString.call(e)==="[object Object]"){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=tt(e[r]));return t}else return Array.isArray(e)?e.map(tt):e}Le.clone=tt;var bt={};Object.defineProperty(bt,"__esModule",{value:!0});var Pn={Salesforce:!0};function xn(e){return!Pn[e]}bt.default=xn;var Ne={},ir=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;Ne.parse=function(e){var t=[1,5,6,7,11,12],r=ir.exec(e),n=0;if(!r)return new Date(e);for(var i=0,o;o=t[i];i++)r[o]=parseInt(r[o],10)||0;r[2]=parseInt(r[2],10)||1,r[3]=parseInt(r[3],10)||1,r[2]--,r[8]=r[8]?(r[8]+"00").substring(0,3):0,r[4]===" "?n=new Date().getTimezoneOffset():r[9]!=="Z"&&r[10]&&(n=r[11]*60+r[12],r[10]==="+"&&(n=0-n));var a=Date.UTC(r[1],r[2],r[3],r[5],r[6]+n,r[7],r[8]);return new Date(a)};Ne.is=function(e,t){return typeof e!="string"||t&&/^\d{4}-\d{2}-\d{2}/.test(e)===!1?!1:ir.test(e)};var _t={},jn=/\d{13}/;_t.is=function(e){return jn.test(e)};_t.parse=function(e){return e=parseInt(e,10),new Date(e)};var wt={},Dn=/\d{10}/;wt.is=function(e){return Dn.test(e)};wt.parse=function(e){var t=parseInt(e,10)*1e3;return new Date(t)};var Bt=Ne,$t=_t,Ut=wt,Mn=Object.prototype,or=Mn.toString;function Cn(e){return or.call(e)==="[object Date]"}function Fn(e){return or.call(e)==="[object Number]"}var St=function(t){return Cn(t)?t:Fn(t)?new Date(Tn(t)):Bt.is(t)?Bt.parse(t):$t.is(t)?$t.parse(t):Ut.is(t)?Ut.parse(t):new Date(t)};function Tn(e){return e<315576e5?e*1e3:e}var qt=Ne,kn=It;function It(e,t){return t===void 0&&(t=!0),e&&typeof e=="object"?Ln(e,t):Array.isArray(e)?Nn(e,t):qt.is(e,t)?qt.parse(e):e}function Ln(e,t){return Object.keys(e).forEach(function(r){e[r]=It(e[r],t)}),e}function Nn(e,t){return e.forEach(function(r,n){e[n]=It(r,t)}),e}var Oe=C&&C.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Q,"__esModule",{value:!0});Q.Facade=void 0;var Rn=Oe(mt),he=Le,Bn=Oe(bt),$n=Oe(St),rt=Oe(ke),Un=Oe(kn);function L(e,t){t=t||{},this.raw=he.clone(e),"clone"in t||(t.clone=!0),t.clone&&(e=he.clone(e)),"traverse"in t||(t.traverse=!0),"timestamp"in e?e.timestamp=$n.default(e.timestamp):e.timestamp=new Date,t.traverse&&Un.default(e),this.opts=t,this.obj=e}Q.Facade=L;var j=L.prototype;j.proxy=function(e){var t=e.split(".");e=t.shift();var r=this[e]||this.obj[e];return r&&(typeof r=="function"&&(r=r.call(this)||{}),t.length===0?this.opts.clone?nt(r):r:(r=rt.default(r,t.join(".")),this.opts.clone?nt(r):r))};j.field=function(e){var t=this.obj[e];return this.opts.clone?nt(t):t};L.proxy=function(e){return function(){return this.proxy(e)}};L.field=function(e){return function(){return this.field(e)}};L.multi=function(e){return function(){var t=this.proxy(e+"s");if(Array.isArray(t))return t;var r=this.proxy(e);return r&&(r=[this.opts.clone?he.clone(r):r]),r||[]}};L.one=function(e){return function(){var t=this.proxy(e);if(t)return t;var r=this.proxy(e+"s");if(Array.isArray(r))return r[0]}};j.json=function(){var e=this.opts.clone?he.clone(this.obj):this.obj;return this.type&&(e.type=this.type()),e};j.rawEvent=function(){return this.raw};j.options=function(e){var t=this.obj.options||this.obj.context||{},r=this.opts.clone?he.clone(t):t;if(!e)return r;if(this.enabled(e)){var n=this.integrations(),i=n[e]||rt.default(n,e);return typeof i!="object"&&(i=rt.default(this.options(),e)),typeof i=="object"?i:{}}};j.context=j.options;j.enabled=function(e){var t=this.proxy("options.providers.all");typeof t!="boolean"&&(t=this.proxy("options.all")),typeof t!="boolean"&&(t=this.proxy("integrations.all")),typeof t!="boolean"&&(t=!0);var r=t&&Bn.default(e),n=this.integrations();if(n.providers&&n.providers.hasOwnProperty(e)&&(r=n.providers[e]),n.hasOwnProperty(e)){var i=n[e];typeof i=="boolean"?r=i:r=!0}return!!r};j.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()};j.active=function(){var e=this.proxy("options.active");return e==null&&(e=!0),e};j.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")};j.sessionId=j.anonymousId;j.groupId=L.proxy("options.groupId");j.traits=function(e){var t=this.proxy("options.traits")||{},r=this.userId();e=e||{},r&&(t.id=r);for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=this[n]==null?this.proxy("options.traits."+n):this[n]();if(i==null)continue;t[e[n]]=i,delete t[n]}return t};j.library=function(){var e=this.proxy("options.library");return e?typeof e=="string"?{name:e,version:null}:e:{name:"unknown",version:null}};j.device=function(){var e=this.proxy("context.device");(typeof e!="object"||e===null)&&(e={});var t=this.library().name;return e.type||(t.indexOf("ios")>-1&&(e.type="ios"),t.indexOf("android")>-1&&(e.type="android")),e};j.userAgent=L.proxy("context.userAgent");j.timezone=L.proxy("context.timezone");j.timestamp=L.field("timestamp");j.channel=L.field("channel");j.ip=L.proxy("context.ip");j.userId=L.field("userId");Rn.default(j);function nt(e){return he.clone(e)}var Re={},it={exports:{}};typeof Object.create=="function"?it.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:it.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};var ie=it.exports,qn=C&&C.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Re,"__esModule",{value:!0});Re.Alias=void 0;var zn=qn(ie),ar=Q;function B(e,t){ar.Facade.call(this,e,t)}Re.Alias=B;zn.default(B,ar.Facade);B.prototype.action=function(){return"alias"};B.prototype.type=B.prototype.action;B.prototype.previousId=function(){return this.field("previousId")||this.field("from")};B.prototype.from=B.prototype.previousId;B.prototype.userId=function(){return this.field("userId")||this.field("to")};B.prototype.to=B.prototype.userId;var Be={},ve={};Object.defineProperty(ve,"__esModule",{value:!0});var Kn=/.+\@.+\..+/;function Vn(e){return Kn.test(e)}ve.default=Vn;var Ot=C&&C.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Be,"__esModule",{value:!0});Be.Group=void 0;var Gn=Ot(ie),Jn=Ot(ve),Qn=Ot(St),ye=Q;function At(e,t){ye.Facade.call(this,e,t)}Be.Group=At;Gn.default(At,ye.Facade);var $=At.prototype;$.action=function(){return"group"};$.type=$.action;$.groupId=ye.Facade.field("groupId");$.created=function(){var e=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(e)return Qn.default(e)};$.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.groupId();if(Jn.default(t))return t};$.traits=function(e){var t=this.properties(),r=this.groupId();e=e||{},r&&(t.id=r);for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=this[n]==null?this.proxy("traits."+n):this[n]();if(i==null)continue;t[e[n]]=i,delete t[n]}return t};$.name=ye.Facade.proxy("traits.name");$.industry=ye.Facade.proxy("traits.industry");$.employees=ye.Facade.proxy("traits.employees");$.properties=function(){return this.field("traits")||this.field("properties")||{}};var Ae={},$e=C&&C.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.Identify=void 0;var W=Q,de=$e(ke),Wn=$e(ie),Hn=$e(ve),ur=$e(St),te=function(e){return e.trim()};function Et(e,t){W.Facade.call(this,e,t)}Ae.Identify=Et;Wn.default(Et,W.Facade);var D=Et.prototype;D.action=function(){return"identify"};D.type=D.action;D.traits=function(e){var t=this.field("traits")||{},r=this.userId();e=e||{},r&&(t.id=r);for(var n in e){var i=this[n]==null?this.proxy("traits."+n):this[n]();i!=null&&(t[e[n]]=i,n!==e[n]&&delete t[n])}return t};D.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.userId();if(Hn.default(t))return t};D.created=function(){var e=this.proxy("traits.created")||this.proxy("traits.createdAt");if(e)return ur.default(e)};D.companyCreated=function(){var e=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(e)return ur.default(e)};D.companyName=function(){return this.proxy("traits.company.name")};D.name=function(){var e=this.proxy("traits.name");if(typeof e=="string")return te(e);var t=this.firstName(),r=this.lastName();if(t&&r)return te(t+" "+r)};D.firstName=function(){var e=this.proxy("traits.firstName");if(typeof e=="string")return te(e);var t=this.proxy("traits.name");if(typeof t=="string")return te(t).split(" ")[0]};D.lastName=function(){var e=this.proxy("traits.lastName");if(typeof e=="string")return te(e);var t=this.proxy("traits.name");if(typeof t=="string"){var r=te(t).indexOf(" ");if(r!==-1)return te(t.substr(r+1))}};D.uid=function(){return this.userId()||this.username()||this.email()};D.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")};D.age=function(){var e=this.birthday(),t=de.default(this.traits(),"age");if(t!=null)return t;if(e instanceof Date){var r=new Date;return r.getFullYear()-e.getFullYear()}};D.avatar=function(){var e=this.traits();return de.default(e,"avatar")||de.default(e,"photoUrl")||de.default(e,"avatarUrl")};D.position=function(){var e=this.traits();return de.default(e,"position")||de.default(e,"jobTitle")};D.username=W.Facade.proxy("traits.username");D.website=W.Facade.one("traits.website");D.websites=W.Facade.multi("traits.website");D.phone=W.Facade.one("traits.phone");D.phones=W.Facade.multi("traits.phone");D.address=W.Facade.proxy("traits.address");D.gender=W.Facade.proxy("traits.gender");D.birthday=W.Facade.proxy("traits.birthday");var ge={},Pt=C&&C.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ge,"__esModule",{value:!0});ge.Track=void 0;var Xn=Pt(ie),F=Q,Yn=Ae,Zn=Pt(ve),sr=Pt(ke);function xt(e,t){F.Facade.call(this,e,t)}ge.Track=xt;Xn.default(xt,F.Facade);var E=xt.prototype;E.action=function(){return"track"};E.type=E.action;E.event=F.Facade.field("event");E.value=F.Facade.proxy("properties.value");E.category=F.Facade.proxy("properties.category");E.id=F.Facade.proxy("properties.id");E.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")};E.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")};E.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")};E.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")};E.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")};E.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")};E.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")};E.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")};E.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")};E.sku=F.Facade.proxy("properties.sku");E.tax=F.Facade.proxy("properties.tax");E.name=F.Facade.proxy("properties.name");E.price=F.Facade.proxy("properties.price");E.total=F.Facade.proxy("properties.total");E.repeat=F.Facade.proxy("properties.repeat");E.coupon=F.Facade.proxy("properties.coupon");E.shipping=F.Facade.proxy("properties.shipping");E.discount=F.Facade.proxy("properties.discount");E.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")};E.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")};E.description=F.Facade.proxy("properties.description");E.plan=F.Facade.proxy("properties.plan");E.subtotal=function(){var e=sr.default(this.properties(),"subtotal"),t=this.total()||this.revenue();if(e)return e;if(!t)return 0;if(this.total()){var r=this.tax();r&&(t-=r),r=this.shipping(),r&&(t-=r),r=this.discount(),r&&(t+=r)}return t};E.products=function(){var e=this.properties(),t=sr.default(e,"products");return Array.isArray(t)?t.filter(function(r){return r!==null}):[]};E.quantity=function(){var e=this.obj.properties||{};return e.quantity||1};E.currency=function(){var e=this.obj.properties||{};return e.currency||"USD"};E.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};E.query=F.Facade.proxy("options.query");E.properties=function(e){var t=this.field("properties")||{};e=e||{};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=this[r]==null?this.proxy("properties."+r):this[r]();if(n==null)continue;t[e[r]]=n,delete t[r]}return t};E.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()};E.email=function(){var e=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(e)return e;var t=this.userId();if(Zn.default(t))return t};E.revenue=function(){var e=this.proxy("properties.revenue"),t=this.event(),r=/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;return!e&&t&&t.match(r)&&(e=this.proxy("properties.total")),ei(e)};E.cents=function(){var e=this.revenue();return typeof e!="number"?this.value()||0:e*100};E.identify=function(){var e=this.json();return e.traits=this.traits(),new Yn.Identify(e,this.opts)};function ei(e){if(e){if(typeof e=="number")return e;if(typeof e=="string"&&(e=e.replace(/\$/g,""),e=parseFloat(e),!isNaN(e)))return e}}var Ee={},cr=C&&C.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.Page=void 0;var ti=cr(ie),oe=Q,ri=ge,ni=cr(ve);function jt(e,t){oe.Facade.call(this,e,t)}Ee.Page=jt;ti.default(jt,oe.Facade);var T=jt.prototype;T.action=function(){return"page"};T.type=T.action;T.category=oe.Facade.field("category");T.name=oe.Facade.field("name");T.title=oe.Facade.proxy("properties.title");T.path=oe.Facade.proxy("properties.path");T.url=oe.Facade.proxy("properties.url");T.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};T.properties=function(e){var t=this.field("properties")||{},r=this.category(),n=this.name();e=e||{},r&&(t.category=r),n&&(t.name=n);for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=this[i]==null?this.proxy("properties."+i):this[i]();if(o==null)continue;t[e[i]]=o,i!==e[i]&&delete t[i]}return t};T.email=function(){var e=this.proxy("context.traits.email")||this.proxy("properties.email");if(e)return e;var t=this.userId();if(ni.default(t))return t};T.fullName=function(){var e=this.category(),t=this.name();return t&&e?e+" "+t:t};T.event=function(e){return e?"Viewed "+e+" Page":"Loaded a Page"};T.track=function(e){var t=this.json();return t.event=this.event(e),t.timestamp=this.timestamp(),t.properties=this.properties(),new ri.Track(t,this.opts)};var Ue={},ii=C&&C.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.Screen=void 0;var oi=ii(ie),lr=Ee,ai=ge;function ne(e,t){lr.Page.call(this,e,t)}Ue.Screen=ne;oi.default(ne,lr.Page);ne.prototype.action=function(){return"screen"};ne.prototype.type=ne.prototype.action;ne.prototype.event=function(e){return e?"Viewed "+e+" Screen":"Loaded a Screen"};ne.prototype.track=function(e){var t=this.json();return t.event=this.event(e),t.timestamp=this.timestamp(),t.properties=this.properties(),new ai.Track(t,this.opts)};var qe={},ui=C&&C.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qe,"__esModule",{value:!0});qe.Delete=void 0;var si=ui(ie),fr=Q;function Dt(e,t){fr.Facade.call(this,e,t)}qe.Delete=Dt;si.default(Dt,fr.Facade);Dt.prototype.type=function(){return"delete"};(function(e){var t=C&&C.__assign||function(){return t=Object.assign||function(y){for(var m,b=1,g=arguments.length;b<g;b++){m=arguments[b];for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(y[_]=m[_])}return y},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Delete=e.Screen=e.Page=e.Track=e.Identify=e.Group=e.Alias=e.Facade=void 0;var r=Q;Object.defineProperty(e,"Facade",{enumerable:!0,get:function(){return r.Facade}});var n=Re;Object.defineProperty(e,"Alias",{enumerable:!0,get:function(){return n.Alias}});var i=Be;Object.defineProperty(e,"Group",{enumerable:!0,get:function(){return i.Group}});var o=Ae;Object.defineProperty(e,"Identify",{enumerable:!0,get:function(){return o.Identify}});var a=ge;Object.defineProperty(e,"Track",{enumerable:!0,get:function(){return a.Track}});var u=Ee;Object.defineProperty(e,"Page",{enumerable:!0,get:function(){return u.Page}});var p=Ue;Object.defineProperty(e,"Screen",{enumerable:!0,get:function(){return p.Screen}});var f=qe;Object.defineProperty(e,"Delete",{enumerable:!0,get:function(){return f.Delete}}),e.default=t(t({},r.Facade),{Alias:n.Alias,Group:i.Group,Identify:o.Identify,Track:a.Track,Page:u.Page,Screen:p.Screen,Delete:f.Delete})})(Y);function Te(e,t){var r=new Y.Facade(e,t);return e.type==="track"&&(r=new Y.Track(e,t)),e.type==="identify"&&(r=new Y.Identify(e,t)),e.type==="page"&&(r=new Y.Page(e,t)),e.type==="alias"&&(r=new Y.Alias(e,t)),e.type==="group"&&(r=new Y.Group(e,t)),e.type==="screen"&&(r=new Y.Screen(e,t)),Object.defineProperty(r,"obj",{value:e,writable:!0}),r}function dr(e,t,r){return O(this,void 0,void 0,function(){function n(f,y){return O(this,void 0,void 0,function(){var m,b,g;return A(this,function(_){switch(_.label){case 0:return m=!1,b=null,[4,y({payload:Te(f,{clone:!0,traverse:!1}),integration:e,next:function(I){m=!0,I===null&&(b=null),I&&(b=I.obj)}})];case 1:return _.sent(),!m&&b!==null&&(b=b,b.integrations=w(w({},f.integrations),(g={},g[e]=!1,g))),[2,b]}})})}var i,o,a,u,p;return A(this,function(f){switch(f.label){case 0:i=Te(t,{clone:!0,traverse:!1}).rawEvent(),o=0,a=r,f.label=1;case 1:return o<a.length?(u=a[o],[4,n(i,u)]):[3,4];case 2:if(p=f.sent(),p===null)return[2,null];i=p,f.label=3;case 3:return o++,[3,1];case 4:return[2,i]}})})}function ci(e,t){function r(n){return O(this,void 0,void 0,function(){var i;return A(this,function(o){switch(o.label){case 0:return i=!1,[4,e({payload:Te(n.event,{clone:!0,traverse:!1}),integrations:t??{},next:function(a){i=!0,a&&(n.event=a.obj)}})];case 1:if(o.sent(),!i)throw new pe({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,n]}})})}return{name:"Source Middleware ".concat(e.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(n){return Promise.resolve(n)},track:r,page:r,identify:r,alias:r,group:r}}const li=Object.freeze(Object.defineProperty({__proto__:null,applyDestinationMiddleware:dr,sourceMiddlewarePlugin:ci},Symbol.toStringTag,{value:"Module"}));var fi=function(){function e(t,r){this.version="1.0.0",this.alternativeNames=[],this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=r,this.name=t,this.type=r.type,this.alternativeNames.push(r.name)}return e.prototype.addMiddleware=function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];this.type==="destination"&&(t=this.middleware).push.apply(t,r)},e.prototype.transform=function(t){return O(this,void 0,void 0,function(){var r;return A(this,function(n){switch(n.label){case 0:return[4,dr(this.name,t.event,this.middleware)];case 1:return r=n.sent(),r===null&&t.cancel(new pe({retry:!1,reason:"dropped by destination middleware"})),[2,new fe(r)]}})})},e.prototype._createMethod=function(t){var r=this;return function(n){return O(r,void 0,void 0,function(){var i;return A(this,function(o){switch(o.label){case 0:return this.action[t]?(i=n,this.type!=="destination"?[3,2]:[4,this.transform(n)]):[2,n];case 1:i=o.sent(),o.label=2;case 2:return[4,this.action[t](i)];case 3:return o.sent(),[2,n]}})})}},e.prototype.isLoaded=function(){return this.action.isLoaded()},e.prototype.ready=function(){return this.action.ready?this.action.ready():Promise.resolve()},e.prototype.load=function(t,r){return this.action.load(t,r)},e.prototype.unload=function(t,r){var n,i;return(i=(n=this.action).unload)===null||i===void 0?void 0:i.call(n,t,r)},e}();function di(e){if(!Array.isArray(e))throw new Error("Not a valid list of plugins");var t=["load","isLoaded","name","version","type"];return e.forEach(function(r){t.forEach(function(n){var i;if(r[n]===void 0)throw new Error("Plugin: ".concat((i=r.name)!==null&&i!==void 0?i:"unknown"," missing required function ").concat(n))})}),!0}function pi(e,t){var r=e[t.creationName],n=e[t.name];return e.All===!1&&!r&&!n||r===!1||n===!1}function hi(e,t,r,n,i){var o,a,u;return O(this,void 0,void 0,function(){var p,f,y,m,b=this;return A(this,function(g){switch(g.label){case 0:return p=[],f=gt(),y=(a=(o=e.middlewareSettings)===null||o===void 0?void 0:o.routingRules)!==null&&a!==void 0?a:[],m=((u=e.remotePlugins)!==null&&u!==void 0?u:[]).map(function(_){return O(b,void 0,void 0,function(){var I,S,v,h,s,c,d,l,P;return A(this,function(x){switch(x.label){case 0:if(pi(t,_))return[2];x.label=1;case 1:if(x.trys.push([1,12,,13]),!n)return[3,7];I=_.url.split("/"),S=I[I.length-2],v=_.url.replace(S,btoa(S).replace(/=/g,"")),x.label=2;case 2:return x.trys.push([2,4,,6]),[4,Je(v.replace("https://cdn.june.so",f))];case 3:return x.sent(),[3,6];case 4:return x.sent(),[4,Je(_.url.replace("https://cdn.june.so",f))];case 5:return x.sent(),[3,6];case 6:return[3,9];case 7:return[4,Je(_.url.replace("https://cdn.june.so",f))];case 8:x.sent(),x.label=9;case 9:return h=_.libraryName,typeof window[h]!="function"?[3,11]:(s=window[h],[4,s(w(w({},_.settings),r[_.name]))]);case 10:c=x.sent(),d=Array.isArray(c)?c:[c],di(d),l=y.filter(function(M){return M.destinationName===_.creationName}),d.forEach(function(M){var U=new fi(_.creationName,M);l.length&&i&&M.type==="destination"&&U.addMiddleware(i),p.push(U)}),x.label=11;case 11:return[3,13];case 12:return P=x.sent(),console.warn("Failed to load Remote Plugin",P),[3,13];case 13:return[2]}})})}),[4,Promise.all(m)];case 1:return g.sent(),[2,p.filter(Boolean)]}})})}var vi=function(e){var t=!1;window.addEventListener("pagehide",function(){t||(t=!0,e())}),document.addEventListener("visibilitychange",function(){if(document.visibilityState=="hidden"){if(t)return;t=!0,e()}else t=!1})},yi=500;function pr(e){var t=encodeURI(JSON.stringify(e)).split(/%..|./).length-1;return t/1024}function gi(e){return pr(e)>=yi-50}function mi(e){var t=[],r=0;return e.forEach(function(n){var i=pr(t[r]);i>=64&&r++,t[r]?t[r].push(n):t[r]=[n]}),t}function bi(e,t){var r,n,i=[],o=!1,a=(r=t==null?void 0:t.size)!==null&&r!==void 0?r:10,u=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:5e3;function p(g){var _;if(g.length!==0){var I=(_=g[0])===null||_===void 0?void 0:_.writeKey;return dt("https://".concat(e,"/b"),{keepalive:o,headers:{"Content-Type":"application/json"},method:"post",body:JSON.stringify({batch:g,writeKey:I})})}}function f(){return O(this,void 0,void 0,function(){var g;return A(this,function(_){return i.length?(g=i,i=[],[2,p(g)]):[2]})})}var y;function m(){y||(y=setTimeout(function(){y=void 0,f().catch(console.error)},u))}vi(function(){if(o=!0,i.length){var g=mi(i).map(p);Promise.all(g).catch(console.error)}});function b(g,_){return O(this,void 0,void 0,function(){var I;return A(this,function(S){return i.push(_),I=i.length>=a||gi(i),[2,I||o?f():m()]})})}return{dispatch:b}}function _i(e){function t(r,n){return dt(r,{keepalive:e==null?void 0:e.keepalive,headers:{"Content-Type":"application/json"},method:"post",body:JSON.stringify(n)})}return{dispatch:t}}var wi=function(e,t){return O(void 0,void 0,void 0,function(){var r;return A(this,function(n){return r=function(i){return O(void 0,void 0,void 0,function(){var o;return A(this,function(a){switch(a.label){case 0:return e(i)?(o=r,[4,t()]):[3,2];case 1:return[2,o.apply(void 0,[a.sent()])];case 2:return[2]}})})},[2,r(void 0)]})})};function Si(e,t){return O(this,void 0,void 0,function(){var r,n=this;return A(this,function(i){switch(i.label){case 0:return r=[],Ce()?[2,t]:[4,wi(function(){return t.length>0&&!Ce()},function(){return O(n,void 0,void 0,function(){var o,a,u;return A(this,function(p){switch(p.label){case 0:return o=t.pop(),o?[4,we(o,e)]:[2];case 1:return a=p.sent(),u=a instanceof fe,u||r.push(o),[2]}})})})];case 1:return i.sent(),r.map(function(o){return t.pushWithBackoff(o)}),[2,t]}})})}function ce(e,t,r,n){var i=this;e||setTimeout(function(){return O(i,void 0,void 0,function(){var o,a;return A(this,function(u){switch(u.label){case 0:return o=!0,[4,Si(r,t)];case 1:return a=u.sent(),o=!1,t.todo>0&&n(o,a,r,n),[2]}})})},Math.random()*5e3)}function Ii(e,t){var r,n,i,o,a=e.user();return t.previousId=(i=(n=(r=t.previousId)!==null&&r!==void 0?r:t.from)!==null&&n!==void 0?n:a.id())!==null&&i!==void 0?i:a.anonymousId(),t.userId=(o=t.userId)!==null&&o!==void 0?o:t.to,delete t.from,delete t.to,t}function Oi(e,t,r){var n,i;window.addEventListener("pagehide",function(){o.push.apply(o,Array.from(a)),a.clear()});var o=e.options.disableClientPersistence?new ct(e.queue.queue.maxAttempts,[]):new yt(e.queue.queue.maxAttempts,"dest-june.so"),a=new Set,u=!1,p=(n=t==null?void 0:t.apiHost)!==null&&n!==void 0?n:"api.june.so/sdk",f=(i=t==null?void 0:t.protocol)!==null&&i!==void 0?i:"https",y="".concat(f,"://").concat(p),m=t==null?void 0:t.deliveryStrategy,b=(m==null?void 0:m.strategy)==="batching"?bi(p,m.config):_i(m==null?void 0:m.config);function g(I){return O(this,void 0,void 0,function(){var S,v;return A(this,function(h){return Ce()?(o.push(I),ce(u,o,_,ce),[2,I]):(a.add(I),S=I.event.type,v=Te(I.event).json(),I.event.type==="track"&&delete v.traits,I.event.type==="alias"&&(v=Ii(e,v)),[2,b.dispatch("".concat(y,"/").concat(S),w(w({},nn(e,v,t,r)),{writeKey:e.settings.writeKey})).then(function(){return I}).catch(function(){return o.pushWithBackoff(I),ce(u,o,_,ce),I}).finally(function(){a.delete(I)})])})})}var _={name:"june.so",type:"after",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:g,identify:g,page:g,alias:g,group:g};return o.todo&&ce(u,o,_,ce),_}var Ai=function(e){return typeof e=="object"&&e!==null&&"then"in e&&typeof e.then=="function"},hr=function(e,t,r){r.getCalls(e).forEach(function(n){Mt(t,n).catch(console.error)})},Ei=function(e,t){return O(void 0,void 0,void 0,function(){var r,n,i;return A(this,function(o){switch(o.label){case 0:r=0,n=t.getCalls("addSourceMiddleware"),o.label=1;case 1:return r<n.length?(i=n[r],[4,Mt(e,i).catch(console.error)]):[3,4];case 2:o.sent(),o.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},Pi=hr.bind(void 0,"on"),xi=hr.bind(void 0,"setAnonymousId"),ji=function(e,t){t.toArray().forEach(function(r){setTimeout(function(){Mt(e,r).catch(console.error)},0)})},Di=function(){function e(){this._value={}}return e.prototype.toArray=function(){var t;return(t=[]).concat.apply(t,Object.values(this._value))},e.prototype.getCalls=function(t){var r;return(r=this._value[t])!==null&&r!==void 0?r:[]},e.prototype.push=function(){for(var t=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.forEach(function(i){t._value[i.method]?t._value[i.method].push(i):t._value[i.method]=[i]}),this},e.prototype.clear=function(){return this._value={},this},e}();function Mt(e,t){return O(this,void 0,void 0,function(){var r,n;return A(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),t.called?[2,void 0]:(t.called=!0,r=e[t.method].apply(e,t.args),Ai(r)?[4,r]:[3,2]);case 1:i.sent(),i.label=2;case 2:return t.resolve(r),[3,4];case 3:return n=i.sent(),t.reject(n),[3,4];case 4:return[2]}})})}var Mi=function(){function e(t){var r=this;this._preInitBuffer=new Di,this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=Ie,this._promise=t(this._preInitBuffer),this._promise.then(function(n){var i=n[0],o=n[1];r.instance=i,r.ctx=o}).catch(function(){})}return e.prototype.then=function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(t=this._promise).then.apply(t,r)},e.prototype.catch=function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(t=this._promise).catch.apply(t,r)},e.prototype.finally=function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(t=this._promise).finally.apply(t,r)},e.prototype._createMethod=function(t){var r=this;return function(){for(var n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(r.instance){var a=(n=r.instance)[t].apply(n,i);return Promise.resolve(a)}return new Promise(function(u,p){r._preInitBuffer.push({method:t,args:i,resolve:u,reject:p,called:!1})})}},e.prototype._createChainableMethod=function(t){var r=this;return function(){for(var n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return r.instance?((n=r.instance)[t].apply(n,i),r):(r._preInitBuffer.push({method:t,args:i,resolve:function(){},reject:console.error,called:!1}),r)}},e}();function Ci(e){var t=e[0],r=e.slice(1);return{method:t,resolve:function(){},reject:console.error,args:r,called:!1}}var Fi=function(e){return e.map(Ci)},ot=function(){var e=window.analytics;if(!Array.isArray(e))return[];var t=e.splice(0,e.length);return Fi(t)},Qe,zt,Ti=ft(),Kt=(Qe=(zt=Ti).__SEGMENT_INSPECTOR__)!==null&&Qe!==void 0?Qe:zt.__SEGMENT_INSPECTOR__={},ki=function(e){var t;return(t=Kt.attach)===null||t===void 0?void 0:t.call(Kt,e)};function Li(e){return e??gt(),{integrations:{}}}function Ni(e){return Zt().NODE_ENV!=="test"&&Object.keys(e.integrations).length>1}function Ri(e){var t,r,n;return Zt().NODE_ENV!=="test"&&((n=(r=(t=e.middlewareSettings)===null||t===void 0?void 0:t.routingRules)===null||r===void 0?void 0:r.length)!==null&&n!==void 0?n:0)>0}function Bi(e,t){t.push.apply(t,ot()),xi(e,t),Pi(e,t)}function $i(e,t){return O(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return t.push.apply(t,ot()),[4,Ei(e,t)];case 1:return r.sent(),t.push.apply(t,ot()),ji(e,t),t.clear(),[2]}})})}function Ui(e,t,r,n,i,o){var a,u,p;return O(this,void 0,void 0,function(){var f,y,m,b,g,_,I,S,v,h,s,c=this;return A(this,function(d){switch(d.label){case 0:return Ri(e)?[4,R(()=>import("./index-DopHWMLi.js"),__vite__mapDeps([7,4])).then(function(l){return l.tsubMiddleware(e.middlewareSettings.routingRules)})]:[3,2];case 1:return y=d.sent(),[3,3];case 2:y=void 0,d.label=3;case 3:return f=y,Ni(e)||o.length>0?[4,R(()=>import("./index-w-1_omK2.js"),__vite__mapDeps([8,9,6,1,2,3,4])).then(function(l){return l.ajsDestinations(e,t.integrations,r,f,o)})]:[3,5];case 4:return b=d.sent(),[3,6];case 5:b=[],d.label=6;case 6:return m=b,e.legacyVideoPluginsEnabled?[4,R(()=>import("./index-Pv9In6do.js"),__vite__mapDeps([10,1,2,3,4])).then(function(l){return l.loadLegacyVideoPlugins(t)})]:[3,8];case 7:d.sent(),d.label=8;case 8:return!((a=r.plan)===null||a===void 0)&&a.track?[4,R(()=>import("./index-DIhLyoi2.js"),__vite__mapDeps([11,9,1,2,3,4])).then(function(l){var P;return l.schemaFilter((P=r.plan)===null||P===void 0?void 0:P.track,e)})]:[3,10];case 9:return _=d.sent(),[3,11];case 10:_=void 0,d.label=11;case 11:return g=_,I=_n(e,n),[4,hi(e,t.integrations,I,n.obfuscate,f).catch(function(){return[]})];case 12:return S=d.sent(),v=k(k(k([_r,On],i,!0),m,!0),S,!0),g&&v.push(g),h=((u=r.integrations)===null||u===void 0?void 0:u.All)===!1&&!r.integrations["june.so"]||r.integrations&&r.integrations["june.so"]===!1,h||v.push(Oi(t,I["june.so"],e.integrations)),[4,t.register.apply(t,v)];case 13:return s=d.sent(),Object.entries((p=e.enabledMiddleware)!==null&&p!==void 0?p:{}).some(function(l){var P=l[1];return P})?[4,R(()=>import("./index-SphxxEIl.js"),__vite__mapDeps([12,1,2,3,4])).then(function(l){var P=l.remoteMiddlewares;return O(c,void 0,void 0,function(){var x,M;return A(this,function(U){switch(U.label){case 0:return[4,P(s,e,n.obfuscate)];case 1:return x=U.sent(),M=x.map(function(vr){return t.addSourceMiddleware(vr)}),[2,Promise.all(M)]}})})})]:[3,15];case 14:d.sent(),d.label=15;case 15:return[2,s]}})})}function qi(e,t,r){var n,i,o,a,u;return t===void 0&&(t={}),O(this,void 0,void 0,function(){var p,f,y,m,b,g,_,I,S,v,h;return A(this,function(s){switch(s.label){case 0:return e.cdnURL&&bn(e.cdnURL),(n=e.cdnSettings)!==null&&n!==void 0?(f=n,[3,3]):[3,1];case 1:return[4,Li(e.writeKey)];case 2:f=s.sent(),s.label=3;case 3:return p=f,y=!0,m=w({retryQueue:y},t),b=new vn(e,m),ki(b),g=(i=e.plugins)!==null&&i!==void 0?i:[],_=(o=e.classicIntegrations)!==null&&o!==void 0?o:[],Wt.initRemoteMetrics(p.metrics),Bi(b,r),[4,Ui(p,b,m,t,g,_)];case 4:return I=s.sent(),S=(a=window.location.search)!==null&&a!==void 0?a:"",v=(u=window.location.hash)!==null&&u!==void 0?u:"",h=S.length?S:v.replace(/(?=#).*(?=\?)/,""),h.includes("ajs_")?[4,b.queryString(h).catch(console.error)]:[3,6];case 5:s.sent(),s.label=6;case 6:return b.initialized=!0,b.emit("initialize",e,t),t.initialPageview&&b.page().catch(console.error),[4,$i(b,r)];case 7:return s.sent(),[2,[b,I]]}})})}var zi=function(e){J(t,e);function t(){var r=this,n=wn(),i=n.promise,o=n.resolve;return r=e.call(this,function(a){return i.then(function(u){var p=u[0],f=u[1];return qi(p,f,a)})})||this,r._resolveLoadStart=function(a,u){return o([a,u])},r}return t.prototype.load=function(r,n){return n===void 0&&(n={}),this._resolveLoadStart(r,n),this},t.load=function(r,n){return n===void 0&&(n={}),new t().load(r,n)},t.standalone=function(r,n){return t.load({writeKey:r},n).then(function(i){return i[0]})},t}(Mi);class Ki{constructor({token:t}={}){this.analyticsToken=t,this.analytics=null,this.user={}}async init(){if(!this.analyticsToken)return;let[t]=await zi.load({writeKey:this.analyticsToken});this.analytics=t}identify(t){if(!this.analytics||!t)return;this.user=t,this.analytics.identify(this.user.email,{userId:this.user.id,email:this.user.email,name:this.user.name,avatar:this.user.avatar_url});const{accounts:r,account_id:n}=this.user,[i]=r.filter(o=>o.id===n);i&&this.analytics.group(i.id,this.user.id,{name:i.name})}track(t,r={}){this.analytics&&this.analytics.track({userId:this.user.id,event:t,properties:r})}page(t){this.analytics&&this.analytics.page(t)}}const Vi=new Ki(window.analyticsConfig),Yi=(...e)=>{try{return Vi.track(...e)}catch{}return null},Zi=(e,t=null)=>{yr.emit("newToastMessage",{message:e,action:t})};export{Vi as A,pe as C,ct as P,Z as _,Yi as a,Wi as b,O as c,A as d,Xi as e,k as f,Hi as g,w as h,Ce as i,dr as j,Y as k,Je as l,Qi as m,_n as n,yt as o,wi as p,we as q,fe as r,Ir as s,Or as t,Zi as u,Kr as v};
//# sourceMappingURL=index-DyRF4TQi.js.map
